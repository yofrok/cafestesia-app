import{r as a,j as e,I as k,R as be,q as he,o as ge,d as pe,e as fe,f as W,g as X,h as je,u as ye,i as Ne,T as ve}from"./index-HV6JOfac.js";import{M as T}from"./Modal-BsmTw2Od.js";import{u as we}from"./useBeverages-CQCQ5Eas.js";const Ce=({isOpen:o,onClose:n,onSave:u,onDelete:p,provider:s})=>{const[t,l]=a.useState("");a.useEffect(()=>{o&&l((s==null?void 0:s.name)||"")},[o,s]);const i=h=>{if(h.preventDefault(),!t.trim())return;const f={name:t.trim()};u(s?{...f,id:s.id}:f),n()},b=()=>{s&&window.confirm(`쮼st치s seguro de que quieres eliminar al proveedor "${s.name}"?`)&&(p(s.id),n())};return e.jsx(T,{isOpen:o,onClose:n,title:s?"Editar Proveedor":"A침adir Proveedor",children:e.jsxs("form",{onSubmit:i,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre del Proveedor"}),e.jsx("input",{type:"text",value:t,onChange:h=>l(h.target.value),required:!0,autoFocus:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{children:s&&e.jsx("button",{type:"button",onClick:b,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:n,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar"})]})]})]})})},Se=({isOpen:o,onClose:n,onSave:u,onDelete:p,category:s})=>{const[t,l]=a.useState("");a.useEffect(()=>{o&&l((s==null?void 0:s.name)||"")},[o,s]);const i=h=>{if(h.preventDefault(),!t.trim())return;const f={name:t.trim()};u(s?{...f,id:s.id}:f),n()},b=()=>{s&&window.confirm(`쮼st치s seguro de que quieres eliminar la categor칤a "${s.name}"?`)&&(p(s.id),n())};return e.jsx(T,{isOpen:o,onClose:n,title:s?"Editar Categor칤a":"A침adir Categor칤a",children:e.jsxs("form",{onSubmit:i,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre de la Categor칤a"}),e.jsx("input",{type:"text",value:t,onChange:h=>l(h.target.value),required:!0,autoFocus:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{children:s&&e.jsx("button",{type:"button",onClick:b,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:n,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar"})]})]})]})})},ke=({rating:o})=>e.jsx("div",{className:"flex",children:[...Array(5)].map((n,u)=>e.jsx(k,{name:"star",size:16,className:u<o?"text-yellow-400 fill-current":"text-gray-300"},u))}),Ee=({isOpen:o,onClose:n,recipe:u,feedbackLog:p})=>{const s=[...p].sort((t,l)=>new Date(l.date).getTime()-new Date(t.date).getTime());return e.jsxs(T,{isOpen:o,onClose:n,title:`Bit치cora de: ${u.name}`,children:[e.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:s.length>0?e.jsx("div",{className:"space-y-4",children:s.map(t=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:new Date(t.date).toLocaleString("es-ES",{dateStyle:"long",timeStyle:"short"})}),e.jsx(ke,{rating:t.rating})]}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:t.notes||"Sin notas."})]},t.id))}):e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay feedback registrado para esta receta todav칤a."})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:n,className:"py-2 px-6 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cerrar"})})]})},Re=({isOpen:o,onClose:n,onSave:u,onDelete:p,user:s})=>{const[t,l]=a.useState(""),[i,b]=a.useState("#CCCCCC"),[h,f]=a.useState("");a.useEffect(()=>{o&&(l((s==null?void 0:s.name)||""),b((s==null?void 0:s.color)||"#CCCCCC"),f((s==null?void 0:s.phone)||""))},[o,s]);const g=d=>{if(d.preventDefault(),!t.trim())return;const x={name:t.trim(),color:i,phone:h.trim()};u(s?{...x,id:s.id}:x),n()},m=()=>{s&&window.confirm(`쮼st치s seguro de que quieres eliminar a "${s.name}"? Esto no se puede deshacer.`)&&(p(s.id),n())};return e.jsx(T,{isOpen:o,onClose:n,title:s?"Editar Usuario":"A침adir Usuario",children:e.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre del Usuario"}),e.jsx("input",{type:"text",value:t,onChange:d=>l(d.target.value),required:!0,autoFocus:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"N칰mero de WhatsApp (Opcional)"}),e.jsx("input",{type:"tel",value:h,onChange:d=>f(d.target.value),placeholder:"+521234567890",className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Color de Etiqueta"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"color",value:i,onChange:d=>b(d.target.value),className:"w-12 h-10 p-1 border border-gray-300 rounded-md cursor-pointer"}),e.jsx("input",{type:"text",value:i,onChange:d=>b(d.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 font-mono focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{children:s&&e.jsx("button",{type:"button",onClick:m,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:n,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar"})]})]})]})})},De=({steps:o,setSteps:n})=>{const u=(t,l,i)=>{const b=[...o];l==="duration"?b[t][l]=typeof i=="string"?parseInt(i,10)*60:i:b[t][l]=i,n(b)},p=()=>{n([...o,{duration:300,instruction:"Nuevo paso",type:"active"}])},s=t=>{o.length<=1||n(o.filter((l,i)=>i!==t))};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-700 mb-2",children:"Pasos del Proceso"}),e.jsxs("div",{className:"space-y-3 bg-gray-100 p-3 rounded-lg border",children:[o.map((t,l)=>e.jsx("div",{className:"flex flex-col gap-2 bg-white p-3 rounded-md shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"font-bold text-gray-500 mt-2",children:[l+1,"."]}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("textarea",{value:t.instruction,onChange:i=>u(l,"instruction",i.target.value),rows:2,placeholder:"Instrucci칩n del paso",className:"w-full p-2 text-sm border border-gray-300 rounded-md mb-2"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center flex-grow",children:[e.jsx("span",{className:"text-xs font-bold text-gray-500 mr-2 uppercase",children:"Duraci칩n:"}),e.jsx("input",{type:"number",value:t.duration/60,onChange:i=>u(l,"duration",i.target.value),min:"1",className:"w-16 p-1 text-sm border border-gray-300 rounded-md text-center"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"min"})]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{type:"button",onClick:()=>u(l,"type","active"),className:`px-3 py-1 text-xs font-bold rounded-md transition-colors ${t.type==="active"||!t.type?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Manual"}),e.jsx("button",{type:"button",onClick:()=>u(l,"type","passive"),className:`px-3 py-1 text-xs font-bold rounded-md transition-colors ${t.type==="passive"?"bg-white text-teal-600 shadow-sm":"text-gray-500"}`,children:"Espera"})]})]})]}),e.jsx("button",{type:"button",onClick:()=>s(l),disabled:o.length<=1,className:"p-2 text-red-500 hover:bg-red-100 rounded-full disabled:text-gray-400 disabled:cursor-not-allowed mt-2",children:e.jsx(k,{name:"trash-2",size:18})})]})},l)),e.jsxs("button",{type:"button",onClick:p,className:"w-full mt-2 py-2 px-4 bg-blue-100 text-blue-700 font-semibold rounded-lg hover:bg-blue-200 transition-colors text-sm flex items-center justify-center gap-2",children:[e.jsx(k,{name:"plus",size:16}),"A침adir Paso"]})]})]})},Me=({variants:o,setVariants:n,baseSteps:u})=>{const[p,s]=a.useState(""),[t,l]=a.useState(""),[i,b]=a.useState(null),h=()=>{if(!p.trim())return;const d={id:`var-${Date.now()}`,name:p.trim(),description:t.trim(),stepOverrides:Array(u.length).fill(null)};n([...o,d]),s(""),l("")},f=d=>{n(o.filter(x=>x.id!==d)),(i==null?void 0:i.id)===d&&b(null)},g=(d,x,y)=>{n(v=>v.map(N=>N.id===d?{...N,[x]:y}:N))},m=(d,x,y)=>{n(v=>v.map(N=>{if(N.id===d){const w=[...N.stepOverrides],D=y.trim()===u[x].instruction.trim()?null:y.trim();return D===null?w[x]=null:w[x]={...w[x]||{},instruction:D},w[x]&&Object.keys(w[x]).length===0&&(w[x]=null),{...N,stepOverrides:w}}return N}))};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-700 mb-2",children:"Variantes de Receta (Opcional)"}),e.jsxs("div",{className:"space-y-3 bg-gray-100 p-3 rounded-lg border",children:[o.map(d=>{const x=(i==null?void 0:i.id)===d.id;return e.jsxs("div",{className:"bg-white p-3 rounded-md shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x?e.jsx("input",{type:"text",value:d.name,onChange:y=>g(d.id,"name",y.target.value),className:"font-semibold text-gray-800 p-1 border border-gray-300 rounded-md w-full mr-2"}):e.jsx("h4",{className:"font-semibold text-gray-800",children:d.name}),e.jsxs("div",{children:[e.jsx("button",{type:"button",onClick:()=>b(x?null:d),className:`p-2 rounded-full transition-colors ${x?"bg-blue-100 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,children:e.jsx(k,{name:"pencil",size:16})}),e.jsx("button",{type:"button",onClick:()=>f(d.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-full",children:e.jsx(k,{name:"trash-2",size:16})})]})]}),x&&e.jsxs("div",{className:"space-y-2 mt-2 pt-2 border-t",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Descripci칩n de la Variante"}),e.jsx("input",{type:"text",value:d.description||"",onChange:y=>g(d.id,"description",y.target.value),placeholder:"Ej: 1 charola (6-8 pzas)",className:"w-full p-1 border border-gray-300 rounded-md"})]}),u.map((y,v)=>{const N=d.stepOverrides[v];return e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsxs("span",{className:"font-bold text-gray-500 mt-2",children:[v+1,"."]}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("label",{className:"text-xs text-gray-500",children:['Instrucci칩n (Base: "',y.instruction,'")']}),e.jsx("textarea",{value:(N==null?void 0:N.instruction)||y.instruction,onChange:w=>m(d.id,v,w.target.value),rows:2,className:"w-full p-1 border border-gray-300 rounded-md"})]})]},v)})]})]},d.id)}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 pt-2",children:[e.jsx("input",{type:"text",value:p,onChange:d=>s(d.target.value),placeholder:"Nombre de variante (ej: Media Charola)",className:"w-full p-2 border border-gray-300 rounded-md bg-white text-sm"}),e.jsx("input",{type:"text",value:t,onChange:d=>l(d.target.value),placeholder:"Descripci칩n (ej: 1 charola)",className:"w-full p-2 border border-gray-300 rounded-md bg-white text-sm"}),e.jsx("button",{type:"button",onClick:h,className:"flex-shrink-0 py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 text-sm",children:"A침adir"})]})]})]})},ze=({isOpen:o,onClose:n,onSave:u,onDelete:p,recipe:s})=>{const[t,l]=a.useState(""),[i,b]=a.useState(""),[h,f]=a.useState(""),[g,m]=a.useState(""),[d,x]=a.useState(""),[y,v]=a.useState([]),[N,w]=a.useState([]);a.useEffect(()=>{o&&(l((s==null?void 0:s.name)||""),b((s==null?void 0:s.pluralName)||""),f((s==null?void 0:s.setupInstruction)||""),m((s==null?void 0:s.baseVariantName)||"Receta Est치ndar"),x((s==null?void 0:s.baseVariantDescription)||""),v((s==null?void 0:s.steps)||[{duration:300,instruction:"Nuevo paso",type:"active"}]),w((s==null?void 0:s.variants)||[]))},[o,s]);const D=C=>{C.preventDefault();const P=y.reduce((B,M)=>B+M.duration,0);u({name:t,pluralName:i,setupInstruction:h,baseVariantName:g,baseVariantDescription:d,steps:y,variants:N,totalDuration:P}),n()},A=()=>{s&&window.confirm(`丘멆잺 쮼st치s seguro de eliminar la receta "${s.name}"?

Esta acci칩n no se puede deshacer y perder치s el historial asociado.`)&&(p(s.id),n())};return e.jsx(T,{isOpen:o,onClose:n,title:s?`Editar Receta: ${s.name}`:"A침adir Nueva Receta",children:e.jsxs("form",{onSubmit:D,className:"flex flex-col gap-6 max-h-[80vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(G,{label:"Nombre de la Receta (Singular)",children:e.jsx("input",{type:"text",value:t,onChange:C=>l(C.target.value),required:!0})}),e.jsx(G,{label:"Nombre para Notificaciones (Plural)",children:e.jsx("input",{type:"text",value:i,onChange:C=>b(C.target.value),placeholder:"Ej: Roles de Canela listos",required:!0})})]}),e.jsx(G,{label:"Instrucci칩n de Configuraci칩n Inicial",children:e.jsx("textarea",{value:h,onChange:C=>f(C.target.value),rows:2})}),e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h3",{className:"text-md font-bold text-blue-800 mb-2",children:"Configuraci칩n de la Receta Base"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(G,{label:"Nombre de la Variante Base",children:e.jsx("input",{type:"text",value:g,onChange:C=>m(C.target.value),required:!0})}),e.jsx(G,{label:"Descripci칩n de la Variante Base",children:e.jsx("input",{type:"text",value:d,onChange:C=>x(C.target.value),placeholder:"Ej: 2 charolas (12 pzas)"})})]})]}),e.jsx(De,{steps:y,setSteps:v}),e.jsx(Me,{variants:N,setVariants:w,baseSteps:y}),e.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t sticky bottom-0 bg-white",children:[e.jsx("div",{children:s&&e.jsx("button",{type:"button",onClick:A,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:n,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar Receta"})]})]})]})})},G=({label:o,children:n})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:o}),be.cloneElement(n,{className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ee=fe(W,"task_templates"),Ae=()=>{const[o,n]=a.useState([]);return a.useEffect(()=>{const t=he(ee,ge("title")),l=pe(t,i=>{const b=i.docs.map(h=>({id:h.id,...h.data()}));n(b)},i=>{console.error("Error fetching routines:",i)});return()=>l()},[]),{routines:o,addRoutine:async t=>{try{await Ne(ee,t)}catch(l){console.error("Error adding routine:",l)}},updateRoutine:async t=>{const{id:l,...i}=t,b=X(W,"task_templates",l);try{await ye(b,i)}catch(h){console.error("Error updating routine:",h)}},deleteRoutine:async t=>{const l=X(W,"task_templates",t);try{await je(l)}catch(i){console.error("Error deleting routine:",i)}}}},Pe=[{label:"Lunes",value:1},{label:"Martes",value:2},{label:"Mi칠rcoles",value:3},{label:"Jueves",value:4},{label:"Viernes",value:5},{label:"S치bado",value:6},{label:"Domingo",value:0}],qe=({isOpen:o,onClose:n,onSave:u,onUpdate:p,onDelete:s,routine:t,users:l})=>{var J;const[i,b]=a.useState(""),[h,f]=a.useState("08:00"),[g,m]=a.useState("30"),[d,x]=a.useState("pre-apertura"),[y,v]=a.useState(""),[N,w]=a.useState(!1),[D,A]=a.useState(""),[C,P]=a.useState([]),[B,M]=a.useState(""),[j,E]=a.useState([]),[z,U]=a.useState(((J=l[0])==null?void 0:J.name)||""),[I,L]=a.useState({});a.useEffect(()=>{var c;o&&(b((t==null?void 0:t.title)||""),f((t==null?void 0:t.time)||"08:00"),m(String((t==null?void 0:t.duration)||"30")),x((t==null?void 0:t.shift)||"pre-apertura"),v((t==null?void 0:t.zone)||""),w((t==null?void 0:t.isCritical)||!1),A((t==null?void 0:t.notes)||""),P((t==null?void 0:t.subtasks)||[]),E((t==null?void 0:t.frequencyDays)||[]),U((t==null?void 0:t.defaultEmployee)||((c=l[0])==null?void 0:c.name)||""),L((t==null?void 0:t.customAssignments)||{}))},[o,t,l]);const $=c=>{if(c.preventDefault(),!i.trim())return;const S={title:i,subtasks:C,notes:D,frequencyDays:j,time:h,duration:parseInt(g),shift:d,zone:y,isCritical:N,defaultEmployee:z,customAssignments:I};t?p({...S,id:t.id}):u(S),n()},K=c=>{if(j.includes(c)){E(R=>R.filter(O=>O!==c));const S={...I};delete S[c],L(S)}else E(S=>[...S,c])},_=(c,S)=>{if(S===z){const R={...I};delete R[c],L(R)}else L(R=>({...R,[c]:S}))},H=()=>{B.trim()&&(P([...C,{id:`st-${Date.now()}`,text:B,isCompleted:!1}]),M(""))};return e.jsx(T,{isOpen:o,onClose:n,title:t?"Editar Rutina":"Nueva Rutina Maestra",children:e.jsxs("form",{onSubmit:$,className:"flex flex-col gap-5 max-h-[80vh] overflow-y-auto pr-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Nombre de la Tarea"}),e.jsx("input",{type:"text",value:i,onChange:c=>b(c.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",placeholder:"Ej: Limpieza de M치quina"})]}),e.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h4",{className:"font-bold text-gray-700",children:"Programaci칩n y Asignaci칩n"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Por defecto:",e.jsx("select",{value:z,onChange:c=>U(c.target.value),className:"ml-2 p-1 rounded border border-gray-300 font-bold text-blue-600",children:l.map(c=>e.jsx("option",{value:c.name,children:c.name},c.id))})]})]}),e.jsx("div",{className:"space-y-2",children:Pe.map(c=>{var V;const S=j.includes(c.value),R=I[c.value]||z,O=((V=l.find(q=>q.name===R))==null?void 0:V.color)||"#ccc";return e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md transition-colors ${S?"bg-white shadow-sm border border-blue-200":"opacity-60"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:S,onChange:()=>K(c.value),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:`font-medium ${S?"text-gray-900":"text-gray-500"}`,children:c.label})]}),S&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Asignar a:"}),e.jsx("div",{className:"relative",children:e.jsx("select",{value:R,onChange:q=>_(c.value,q.target.value),className:"pl-2 pr-6 py-1 text-sm border border-gray-300 rounded-md bg-gray-50 appearance-none cursor-pointer hover:border-blue-400 focus:outline-none",style:{borderLeftWidth:"4px",borderLeftColor:O},children:l.map(q=>e.jsx("option",{value:q.name,children:q.name},q.id))})})]})]},c.value)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Hora (24h)"}),e.jsx("input",{type:"time",value:h,onChange:c=>f(c.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Duraci칩n"}),e.jsx("select",{value:g,onChange:c=>m(c.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",children:ve.map(c=>e.jsx("option",{value:c.value,children:c.label},c.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Turno"}),e.jsxs("select",{value:d,onChange:c=>x(c.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",children:[e.jsx("option",{value:"pre-apertura",children:"Pre-apertura"}),e.jsx("option",{value:"matutino",children:"Matutino"}),e.jsx("option",{value:"cierre",children:"Cierre"}),e.jsx("option",{value:"default",children:"Otro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Zona"}),e.jsx("input",{type:"text",value:y,onChange:c=>v(c.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Subtareas Maestras"}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[e.jsx("ul",{className:"mb-2 space-y-1",children:C.map((c,S)=>e.jsxs("li",{className:"flex justify-between text-sm bg-white p-1 px-2 rounded border border-gray-100",children:[e.jsx("span",{children:c.text}),e.jsx("button",{type:"button",onClick:()=>P(C.filter((R,O)=>O!==S)),className:"text-red-400 hover:text-red-600",children:e.jsx(k,{name:"x",size:14})})]},S))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:B,onChange:c=>M(c.target.value),placeholder:"Nueva subtarea...",className:"flex-1 p-1 text-sm border rounded"}),e.jsx("button",{type:"button",onClick:H,className:"px-3 bg-blue-500 text-white rounded text-sm",children:e.jsx(k,{name:"plus",size:14})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:c=>w(c.target.checked),className:"w-4 h-4 text-red-600"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Marcar como Cr칤tica"})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[t&&e.jsx("button",{type:"button",onClick:()=>{window.confirm("Borrar rutina?")&&s(t.id),n()},className:"px-4 py-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100",children:"Eliminar"}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 font-bold",children:"Guardar Rutina"})]})]})]})})},Be=({users:o})=>{const{routines:n,addRoutine:u,updateRoutine:p,deleteRoutine:s}=Ae(),[t,l]=a.useState(!1),[i,b]=a.useState(null),h=()=>{b(null),l(!0)},f=m=>{b(m),l(!0)},g=m=>{if(m.length===7)return"Todos los d칤as";if(m.length===0)return"Sin programar";const d=["D","L","M","M","J","V","S"];return m.sort().map(x=>d[x]).join(", ")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Rutinas Maestras"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configura tareas recurrentes y sus asignaciones autom치ticas."})]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(k,{name:"plus-circle",size:16}),"Nueva Rutina"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.map(m=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer group",onClick:()=>f(m),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:m.title}),e.jsx(k,{name:"pencil",size:16,className:"text-gray-300 group-hover:text-blue-500"})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{name:"calendar",size:14,className:"text-gray-400"}),e.jsx("span",{children:g(m.frequencyDays)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{name:"check-circle",size:14,className:"text-gray-400"}),e.jsxs("span",{children:[m.time," (",m.shift,")"]})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-gray-400",children:"Asignaci칩n:"}),e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-gray-700 font-medium",children:m.defaultEmployee}),Object.keys(m.customAssignments).length>0&&e.jsxs("span",{className:"bg-blue-50 text-blue-600 px-2 py-1 rounded font-bold",children:["+",Object.keys(m.customAssignments).length," Excepciones"]})]})]},m.id)),n.length===0&&e.jsx("div",{className:"col-span-full text-center py-10 text-gray-400 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:e.jsx("p",{children:"No hay rutinas configuradas."})})]}),e.jsx(qe,{isOpen:t,onClose:()=>l(!1),onSave:u,onUpdate:p,onDelete:s,routine:i,users:o})]})},Oe=({isOpen:o,onClose:n,onSave:u,onUpdate:p,onDelete:s,beverage:t})=>{const[l,i]=a.useState(""),[b,h]=a.useState("caliente"),[f,g]=a.useState(""),[m,d]=a.useState(""),[x,y]=a.useState(!1),[v,N]=a.useState([]),[w,D]=a.useState(""),[A,C]=a.useState("");a.useEffect(()=>{o&&(i((t==null?void 0:t.name)||""),h((t==null?void 0:t.category)||"caliente"),g((t==null?void 0:t.recipe)||""),d(t!=null&&t.modifiers?t.modifiers.join(", "):""),y((t==null?void 0:t.hasSizes)||!1),N((t==null?void 0:t.sizes)||[]))},[o,t]);const P=j=>{if(j.preventDefault(),!l.trim())return;const E=m.split(",").map(U=>U.trim()).filter(U=>U!==""),z={name:l,category:b,recipe:f,modifiers:E,hasSizes:x,sizes:v};t?p({...z,id:t.id}):u(z),n()},B=()=>{w.trim()&&(N([...v,{name:w.trim(),recipe:A.trim()}]),D(""),C(""))},M=j=>{N(v.filter((E,z)=>z!==j))};return e.jsx(T,{isOpen:o,onClose:n,title:t?"Editar Bebida":"Nueva Bebida",children:e.jsxs("form",{onSubmit:P,className:"flex flex-col gap-4 max-h-[80vh] overflow-y-auto pr-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre"}),e.jsx("input",{type:"text",value:l,onChange:j=>i(j.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Ej: Latte, V60 Etiop칤a"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Categor칤a"}),e.jsxs("select",{value:b,onChange:j=>h(j.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white",children:[e.jsx("option",{value:"caliente",children:"Caliente (M치quina)"}),e.jsx("option",{value:"frio",children:"Fr칤o / Frapp칠"}),e.jsx("option",{value:"metodo",children:"M칠todo (V60, Chemex)"}),e.jsx("option",{value:"otro",children:"Otro"})]})]}),e.jsxs("div",{className:"border-t border-b border-gray-200 py-4 my-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Configuraci칩n de Receta"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-xs ${x?"text-blue-600 font-bold":"text-gray-500"}`,children:"M칰ltiples Tama침os"}),e.jsx("button",{type:"button",onClick:()=>y(!x),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${x?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${x?"translate-x-6":"translate-x-1"}`})})]})]}),x?e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Define las variantes (Ej: 12oz, 16oz) y su receta espec칤fica."}),e.jsx("ul",{className:"space-y-2 mb-3",children:v.map((j,E)=>e.jsxs("li",{className:"bg-white p-2 rounded border border-gray-200 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"font-bold text-blue-700",children:j.name}),e.jsx("button",{type:"button",onClick:()=>M(E),className:"text-red-400 hover:text-red-600",children:e.jsx(k,{name:"x",size:14})})]}),e.jsx("p",{className:"text-gray-600 mt-1 text-xs",children:j.recipe})]},E))}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("input",{type:"text",value:w,onChange:j=>D(j.target.value),placeholder:"Nombre Tama침o (Ej: 16oz)",className:"p-2 border rounded text-sm"}),e.jsx("textarea",{value:A,onChange:j=>C(j.target.value),placeholder:"Receta para este tama침o...",rows:2,className:"p-2 border rounded text-sm"}),e.jsx("button",{type:"button",onClick:B,className:"bg-blue-500 text-white py-1 px-3 rounded text-sm font-bold self-end",children:"A침adir Tama침o"})]})]}):e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-1 flex items-center gap-2",children:["Receta 칔nica ",e.jsx(k,{name:"pencil",size:14})]}),e.jsx("textarea",{value:f,onChange:j=>g(j.target.value),rows:4,className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"Ej: 18.5g in, 36g out. Leche texturizada fina..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Modificadores Comunes"}),e.jsx("input",{type:"text",value:m,onChange:j=>d(j.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Separados por coma: Leche Soya, Deslactosada, Extra Shot"})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t mt-2",children:[t&&e.jsx("button",{type:"button",onClick:()=>{window.confirm("쮼liminar?")&&s(t.id),n()},className:"text-red-500 font-bold text-sm",children:"Eliminar"}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded-lg font-bold",children:"Guardar"})]})]})]})})},Ue=()=>{const{beverages:o,addBeverage:n,updateBeverage:u,deleteBeverage:p}=we(),[s,t]=a.useState(!1),[l,i]=a.useState(null),b=g=>{i(g),t(!0)},h=()=>{i(null),t(!0)},f=o.reduce((g,m)=>((g[m.category]=g[m.category]||[]).push(m),g),{});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Men칰 de Bebidas"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Gestiona las recetas r치pidas para el KDS."})]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(k,{name:"plus-circle",size:16}),"Nueva Bebida"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.keys(f).map(g=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-lg capitalize mb-3 text-blue-700 border-b pb-2",children:g}),e.jsx("ul",{className:"space-y-2",children:f[g].map(m=>e.jsxs("li",{onClick:()=>b(m),className:"flex justify-between items-center p-2 hover:bg-gray-50 rounded cursor-pointer group",children:[e.jsx("span",{className:"font-medium text-gray-700",children:m.name}),e.jsx(k,{name:"pencil",size:14,className:"text-gray-300 group-hover:text-blue-500"})]},m.id))})]},g))}),e.jsx(Oe,{isOpen:s,onClose:()=>t(!1),onSave:n,onUpdate:u,onDelete:p,beverage:l})]})},Ve=({providersHook:o,categoriesHook:n,recipeLogHook:u,usersHook:p,recipesHook:s})=>{const[t,l]=a.useState("production"),{providers:i,addProvider:b,updateProvider:h,deleteProvider:f}=o,[g,m]=a.useState(!1),[d,x]=a.useState(null),{categories:y,addCategory:v,updateCategory:N,deleteCategory:w}=n,[D,A]=a.useState(!1),[C,P]=a.useState(null),{feedbackLog:B}=u,[M,j]=a.useState(null),{users:E,addUser:z,updateUser:U,deleteUser:I}=p,[L,$]=a.useState(!1),[K,_]=a.useState(null),{recipes:H,addRecipe:J,updateRecipe:c,deleteRecipe:S}=s,[R,O]=a.useState(!1),[V,q]=a.useState(null),te=r=>{x(r),m(!0)},se=()=>{x(null),m(!0)},ae=r=>{"id"in r?h(r):b(r)},le=r=>{P(r),A(!0)},re=()=>{P(null),A(!0)},ne=r=>{"id"in r?N(r):v(r)},ie=r=>{_(r),$(!0)},oe=()=>{_(null),$(!0)},de=r=>{"id"in r?U(r):z(r)},Z=r=>{q(r),O(!0)},ce=()=>{q(null),O(!0)},me=r=>{V?c({...r,id:V.id}):J(r)},F=({tab:r,label:xe,icon:ue})=>e.jsxs("button",{onClick:()=>l(r),className:`flex items-center gap-2 py-3 px-4 text-sm md:text-base font-bold border-b-4 transition-colors whitespace-nowrap ${t===r?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[e.jsx(k,{name:ue,size:18}),xe]}),Y=H.filter(r=>r.name.toLowerCase().includes("(horneado)")),Q=H.filter(r=>!r.name.toLowerCase().includes("(horneado)"));return e.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 h-full overflow-y-auto",children:[e.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex gap-4 overflow-x-auto",children:[e.jsx(F,{tab:"production",label:"Panader칤a",icon:"cake-slice"}),e.jsx(F,{tab:"beverages",label:"Bebidas",icon:"star"}),e.jsx(F,{tab:"operations",label:"Usuarios",icon:"clipboard-kanban"}),e.jsx(F,{tab:"routines",label:"Rutinas",icon:"list"}),e.jsx(F,{tab:"inventory",label:"Inventario",icon:"archive"})]})}),e.jsxs("div",{className:"mt-6",children:[t==="production"&&e.jsxs("section",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Recetas de Pan"}),e.jsxs("button",{onClick:ce,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(k,{name:"plus-circle",size:16}),"A침adir Receta"]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg text-blue-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"游볶"})," Elaboraci칩n de Masas"]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:Q.length>0?Q.map(r=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-800",children:r.name}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>j(r),className:"text-sm text-gray-500 hover:text-blue-600 hover:underline font-semibold transition-colors",children:"Historial"}),e.jsx("button",{onClick:()=>Z(r),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline font-semibold transition-colors",children:"Editar"})]})]},r.id)):e.jsx("li",{className:"p-4 text-gray-400 italic text-sm text-center",children:"No hay recetas de masas configuradas."})})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg text-orange-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"游댠"})," Horneado Final"]}),e.jsx("div",{className:"bg-white rounded-lg border border-orange-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-orange-100",children:Y.length>0?Y.map(r=>e.jsxs("li",{className:"p-4 flex justify-between items-center bg-orange-50/30",children:[e.jsx("span",{className:"font-medium text-gray-800",children:r.name.replace(/\(Horneado\)/i,"").trim()}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>j(r),className:"text-sm text-gray-500 hover:text-blue-600 hover:underline font-semibold transition-colors",children:"Historial"}),e.jsx("button",{onClick:()=>Z(r),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline font-semibold transition-colors",children:"Editar"})]})]},r.id)):e.jsx("li",{className:"p-4 text-gray-400 italic text-sm text-center",children:"No hay recetas de horneado configuradas."})})})]})]}),t==="routines"&&e.jsx(Be,{users:E}),t==="beverages"&&e.jsx(Ue,{}),t==="inventory"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"Proveedores de Inventario"}),e.jsxs("button",{onClick:se,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(k,{name:"plus-circle",size:16}),"A침adir Proveedor"]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:i.length>0?i.map(r=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-800",children:r.name}),e.jsx("button",{onClick:()=>te(r),className:"text-sm text-blue-600 hover:underline font-semibold",children:"Editar"})]},r.id)):e.jsx("li",{className:"p-4 text-center text-gray-500",children:"No hay proveedores. 춰A침ade el primero!"})})})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"Categor칤as de Inventario"}),e.jsxs("button",{onClick:re,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(k,{name:"plus-circle",size:16}),"A침adir Categor칤a"]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:y.length>0?y.map(r=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-800",children:r.name}),e.jsx("button",{onClick:()=>le(r),className:"text-sm text-blue-600 hover:underline font-semibold",children:"Editar"})]},r.id)):e.jsx("li",{className:"p-4 text-center text-gray-500",children:"No hay categor칤as. 춰A침ade la primera!"})})})]})]}),t==="operations"&&e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"Gesti칩n de Usuarios"}),e.jsxs("button",{onClick:oe,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(k,{name:"plus-circle",size:16}),"A침adir Usuario"]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:E.length>0?E.map(r=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:r.color}}),e.jsx("span",{className:"font-medium text-gray-800",children:r.name})]}),e.jsx("button",{onClick:()=>ie(r),className:"text-sm text-blue-600 hover:underline font-semibold",children:"Editar"})]},r.id)):e.jsx("li",{className:"p-4 text-center text-gray-500",children:"No hay usuarios. 춰A침ade el primero!"})})})]})]})]}),e.jsx(Ce,{isOpen:g,onClose:()=>m(!1),onSave:ae,onDelete:f,provider:d}),e.jsx(Se,{isOpen:D,onClose:()=>A(!1),onSave:ne,onDelete:w,category:C}),e.jsx(Re,{isOpen:L,onClose:()=>$(!1),onSave:de,onDelete:I,user:K}),e.jsx(ze,{isOpen:R,onClose:()=>O(!1),onSave:me,onDelete:S,recipe:V}),M&&e.jsx(Ee,{isOpen:!!M,onClose:()=>j(null),recipe:M,feedbackLog:B.filter(r=>r.recipeId===M.id)})]})};export{Ve as default};
