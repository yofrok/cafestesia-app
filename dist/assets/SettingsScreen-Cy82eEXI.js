import{r as n,j as e,I as C,u as be,R as he,q as ge,o as pe,d as fe,e as je,f as K,g as X,h as ye,i as Ne,k as ve,T as we}from"./index-BhvwMvOn.js";import{M as L}from"./Modal-DiwVflEb.js";import{u as Ce}from"./useBeverages-DBMZVmtt.js";const Se=({isOpen:l,onClose:r,onSave:u,onDelete:g,provider:s})=>{const[t,a]=n.useState("");n.useEffect(()=>{l&&a((s==null?void 0:s.name)||"")},[l,s]);const o=d=>{if(d.preventDefault(),!t.trim())return;const p={name:t.trim()};u(s?{...p,id:s.id}:p),r()},x=()=>{s&&window.confirm(`쮼st치s seguro de que quieres eliminar al proveedor "${s.name}"?`)&&(g(s.id),r())};return e.jsx(L,{isOpen:l,onClose:r,title:s?"Editar Proveedor":"A침adir Proveedor",children:e.jsxs("form",{onSubmit:o,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre del Proveedor"}),e.jsx("input",{type:"text",value:t,onChange:d=>a(d.target.value),required:!0,autoFocus:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{children:s&&e.jsx("button",{type:"button",onClick:x,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar"})]})]})]})})},ke=({isOpen:l,onClose:r,onSave:u,onDelete:g,category:s})=>{const[t,a]=n.useState("");n.useEffect(()=>{l&&a((s==null?void 0:s.name)||"")},[l,s]);const o=d=>{if(d.preventDefault(),!t.trim())return;const p={name:t.trim()};u(s?{...p,id:s.id}:p),r()},x=()=>{s&&window.confirm(`쮼st치s seguro de que quieres eliminar la categor칤a "${s.name}"?`)&&(g(s.id),r())};return e.jsx(L,{isOpen:l,onClose:r,title:s?"Editar Categor칤a":"A침adir Categor칤a",children:e.jsxs("form",{onSubmit:o,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre de la Categor칤a"}),e.jsx("input",{type:"text",value:t,onChange:d=>a(d.target.value),required:!0,autoFocus:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{children:s&&e.jsx("button",{type:"button",onClick:x,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar"})]})]})]})})},Ee=({rating:l})=>e.jsx("div",{className:"flex",children:[...Array(5)].map((r,u)=>e.jsx(C,{name:"star",size:16,className:u<l?"text-yellow-400 fill-current":"text-gray-300"},u))}),Re=({isOpen:l,onClose:r,recipe:u,feedbackLog:g})=>{const s=[...g].sort((t,a)=>new Date(a.date).getTime()-new Date(t.date).getTime());return e.jsxs(L,{isOpen:l,onClose:r,title:`Bit치cora de: ${u.name}`,children:[e.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:s.length>0?e.jsx("div",{className:"space-y-4",children:s.map(t=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:new Date(t.date).toLocaleString("es-ES",{dateStyle:"long",timeStyle:"short"})}),e.jsx(Ee,{rating:t.rating})]}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:t.notes||"Sin notas."})]},t.id))}):e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay feedback registrado para esta receta todav칤a."})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:r,className:"py-2 px-6 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cerrar"})})]})},De=({isOpen:l,onClose:r,onSave:u,onDelete:g,user:s})=>{const[t,a]=n.useState(""),[o,x]=n.useState("#CCCCCC"),[d,p]=n.useState("");n.useEffect(()=>{l&&(a((s==null?void 0:s.name)||""),x((s==null?void 0:s.color)||"#CCCCCC"),p((s==null?void 0:s.phone)||""))},[l,s]);const y=c=>{if(c.preventDefault(),!t.trim())return;const h={name:t.trim(),color:o,phone:d.trim()};u(s?{...h,id:s.id}:h),r()},b=()=>{s&&window.confirm(`쮼st치s seguro de que quieres eliminar a "${s.name}"? Esto no se puede deshacer.`)&&(g(s.id),r())};return e.jsx(L,{isOpen:l,onClose:r,title:s?"Editar Usuario":"A침adir Usuario",children:e.jsxs("form",{onSubmit:y,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre del Usuario"}),e.jsx("input",{type:"text",value:t,onChange:c=>a(c.target.value),required:!0,autoFocus:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"N칰mero de WhatsApp (Opcional)"}),e.jsx("input",{type:"tel",value:d,onChange:c=>p(c.target.value),placeholder:"+521234567890",className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Color de Etiqueta"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"color",value:o,onChange:c=>x(c.target.value),className:"w-12 h-10 p-1 border border-gray-300 rounded-md cursor-pointer"}),e.jsx("input",{type:"text",value:o,onChange:c=>x(c.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 font-mono focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{children:s&&e.jsx("button",{type:"button",onClick:b,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar"})]})]})]})})},ze=({steps:l,setSteps:r})=>{const u=(t,a,o)=>{const x=[...l];a==="duration"?x[t][a]=typeof o=="string"?parseInt(o,10)*60:o:x[t][a]=o,r(x)},g=()=>{r([...l,{duration:300,instruction:"Nuevo paso",type:"active"}])},s=t=>{l.length<=1||r(l.filter((a,o)=>o!==t))};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-700 mb-2",children:"Pasos del Proceso"}),e.jsxs("div",{className:"space-y-3 bg-gray-100 p-3 rounded-lg border",children:[l.map((t,a)=>e.jsx("div",{className:"flex flex-col gap-2 bg-white p-3 rounded-md shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"font-bold text-gray-500 mt-2",children:[a+1,"."]}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("textarea",{value:t.instruction,onChange:o=>u(a,"instruction",o.target.value),rows:2,placeholder:"Instrucci칩n del paso",className:"w-full p-2 text-sm border border-gray-300 rounded-md mb-2"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center flex-grow",children:[e.jsx("span",{className:"text-xs font-bold text-gray-500 mr-2 uppercase",children:"Duraci칩n:"}),e.jsx("input",{type:"number",value:t.duration/60,onChange:o=>u(a,"duration",o.target.value),min:"1",className:"w-16 p-1 text-sm border border-gray-300 rounded-md text-center"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"min"})]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{type:"button",onClick:()=>u(a,"type","active"),className:`px-3 py-1 text-xs font-bold rounded-md transition-colors ${t.type==="active"||!t.type?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Manual"}),e.jsx("button",{type:"button",onClick:()=>u(a,"type","passive"),className:`px-3 py-1 text-xs font-bold rounded-md transition-colors ${t.type==="passive"?"bg-white text-teal-600 shadow-sm":"text-gray-500"}`,children:"Espera"})]})]})]}),e.jsx("button",{type:"button",onClick:()=>s(a),disabled:l.length<=1,className:"p-2 text-red-500 hover:bg-red-100 rounded-full disabled:text-gray-400 disabled:cursor-not-allowed mt-2",children:e.jsx(C,{name:"trash-2",size:18})})]})},a)),e.jsxs("button",{type:"button",onClick:g,className:"w-full mt-2 py-2 px-4 bg-blue-100 text-blue-700 font-semibold rounded-lg hover:bg-blue-200 transition-colors text-sm flex items-center justify-center gap-2",children:[e.jsx(C,{name:"plus",size:16}),"A침adir Paso"]})]})]})},Ie=({variants:l,setVariants:r,baseSteps:u})=>{const[g,s]=n.useState(""),[t,a]=n.useState(""),[o,x]=n.useState(null),d=()=>{if(!g.trim())return;const c={id:`var-${Date.now()}`,name:g.trim(),description:t.trim(),stepOverrides:Array(u.length).fill(null)};r([...l,c]),s(""),a("")},p=c=>{r(l.filter(h=>h.id!==c)),(o==null?void 0:o.id)===c&&x(null)},y=(c,h,v)=>{r(w=>w.map(N=>N.id===c?{...N,[h]:v}:N))},b=(c,h,v)=>{r(w=>w.map(N=>{if(N.id===c){const S=[...N.stepOverrides],D=v.trim()===u[h].instruction.trim()?null:v.trim();return D===null?S[h]=null:S[h]={...S[h]||{},instruction:D},S[h]&&Object.keys(S[h]).length===0&&(S[h]=null),{...N,stepOverrides:S}}return N}))};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-700 mb-2",children:"Variantes de Receta (Opcional)"}),e.jsxs("div",{className:"space-y-3 bg-gray-100 p-3 rounded-lg border",children:[l.map(c=>{const h=(o==null?void 0:o.id)===c.id;return e.jsxs("div",{className:"bg-white p-3 rounded-md shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h?e.jsx("input",{type:"text",value:c.name,onChange:v=>y(c.id,"name",v.target.value),className:"font-semibold text-gray-800 p-1 border border-gray-300 rounded-md w-full mr-2"}):e.jsx("h4",{className:"font-semibold text-gray-800",children:c.name}),e.jsxs("div",{children:[e.jsx("button",{type:"button",onClick:()=>x(h?null:c),className:`p-2 rounded-full transition-colors ${h?"bg-blue-100 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,children:e.jsx(C,{name:"pencil",size:16})}),e.jsx("button",{type:"button",onClick:()=>p(c.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-full",children:e.jsx(C,{name:"trash-2",size:16})})]})]}),h&&e.jsxs("div",{className:"space-y-2 mt-2 pt-2 border-t",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Descripci칩n de la Variante"}),e.jsx("input",{type:"text",value:c.description||"",onChange:v=>y(c.id,"description",v.target.value),placeholder:"Ej: 1 charola (6-8 pzas)",className:"w-full p-1 border border-gray-300 rounded-md"})]}),u.map((v,w)=>{const N=c.stepOverrides[w];return e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsxs("span",{className:"font-bold text-gray-500 mt-2",children:[w+1,"."]}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("label",{className:"text-xs text-gray-500",children:['Instrucci칩n (Base: "',v.instruction,'")']}),e.jsx("textarea",{value:(N==null?void 0:N.instruction)||v.instruction,onChange:S=>b(c.id,w,S.target.value),rows:2,className:"w-full p-1 border border-gray-300 rounded-md"})]})]},w)})]})]},c.id)}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 pt-2",children:[e.jsx("input",{type:"text",value:g,onChange:c=>s(c.target.value),placeholder:"Nombre de variante (ej: Media Charola)",className:"w-full p-2 border border-gray-300 rounded-md bg-white text-sm"}),e.jsx("input",{type:"text",value:t,onChange:c=>a(c.target.value),placeholder:"Descripci칩n (ej: 1 charola)",className:"w-full p-2 border border-gray-300 rounded-md bg-white text-sm"}),e.jsx("button",{type:"button",onClick:d,className:"flex-shrink-0 py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 text-sm",children:"A침adir"})]})]})]})},Me=({ingredient:l,index:r,inventoryItems:u,onUpdate:g,onRemove:s})=>{const[t,a]=n.useState(String(l.quantity||"")),o=u.find(d=>d.id===l.inventoryItemId);n.useEffect(()=>{const d=parseFloat(t);d!==l.quantity&&!(Number.isNaN(d)&&!l.quantity)&&a(String(l.quantity||""))},[l.quantity]);const x=d=>{a(d);const p=parseFloat(d);isNaN(p)?g(r,"quantity",0):g(r,"quantity",p)};return e.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-emerald-100",children:[e.jsx("div",{className:"flex-grow",children:e.jsx("select",{value:l.inventoryItemId,onChange:d=>g(r,"inventoryItemId",d.target.value),className:"w-full p-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500 focus:outline-none",children:u.map(d=>e.jsxs("option",{value:d.id,children:[d.name," (",d.unit,")"]},d.id))})}),e.jsxs("div",{className:"flex items-center gap-1 w-28 relative",children:[e.jsx("input",{type:"number",value:t,onChange:d=>x(d.target.value),className:"w-full p-1 pr-8 border border-gray-300 rounded text-sm text-center focus:ring-2 focus:ring-emerald-500 focus:outline-none",placeholder:"0",step:"any"}),e.jsx("span",{className:"absolute right-2 text-xs text-gray-500 pointer-events-none font-bold bg-white/80 px-1",children:o==null?void 0:o.unit})]}),e.jsx("button",{type:"button",onClick:()=>s(r),className:"text-red-400 hover:text-red-600 p-1 transition-colors",title:"Eliminar ingrediente",children:e.jsx(C,{name:"trash-2",size:16})})]})},Ae=({ingredients:l,setIngredients:r,inventoryItems:u})=>{const g=()=>{u.length!==0&&r([...l,{inventoryItemId:u[0].id,quantity:0}])},s=a=>{r(l.filter((o,x)=>x!==a))},t=(a,o,x)=>{const d=[...l];d[a][o]=x,r(d)};return e.jsxs("div",{className:"mt-4 border-t pt-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-emerald-700 mb-2 flex items-center gap-2",children:[e.jsx(C,{name:"archive",size:20}),"Consumo de Inventario"]}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Define qu칠 ingredientes se descuentan al preparar un lote est치ndar de esta receta."}),e.jsxs("div",{className:"bg-emerald-50 p-3 rounded-lg border border-emerald-200 space-y-3",children:[l.length>0?l.map((a,o)=>e.jsx(Me,{index:o,ingredient:a,inventoryItems:u,onUpdate:t,onRemove:s},`${o}-${a.inventoryItemId}`)):e.jsx("p",{className:"text-sm text-gray-400 text-center italic py-2",children:"No hay ingredientes configurados."}),e.jsxs("button",{type:"button",onClick:g,className:"w-full py-2 bg-white border border-emerald-300 text-emerald-700 font-semibold rounded hover:bg-emerald-100 transition-colors text-sm flex items-center justify-center gap-2 shadow-sm",children:[e.jsx(C,{name:"plus",size:14}),"A침adir Ingrediente"]})]})]})},qe=({isOpen:l,onClose:r,onSave:u,onDelete:g,recipe:s})=>{const{items:t}=be(),[a,o]=n.useState(""),[x,d]=n.useState(""),[p,y]=n.useState(""),[b,c]=n.useState(""),[h,v]=n.useState(""),[w,N]=n.useState([]),[S,D]=n.useState([]),[A,z]=n.useState([]),[q,P]=n.useState(""),[I,f]=n.useState(0);n.useEffect(()=>{l&&(o((s==null?void 0:s.name)||""),d((s==null?void 0:s.pluralName)||""),y((s==null?void 0:s.setupInstruction)||""),c((s==null?void 0:s.baseVariantName)||"Receta Est치ndar"),v((s==null?void 0:s.baseVariantDescription)||""),N((s==null?void 0:s.steps)||[{duration:300,instruction:"Nuevo paso",type:"active"}]),D((s==null?void 0:s.variants)||[]),z((s==null?void 0:s.ingredients)||[]),P((s==null?void 0:s.outputInventoryItemId)||""),f((s==null?void 0:s.outputQuantity)||0))},[l,s]);const E=j=>{j.preventDefault();const T=w.reduce(($,F)=>$+F.duration,0);u({name:a,pluralName:x,setupInstruction:p,baseVariantName:b,baseVariantDescription:h,steps:w,variants:S,totalDuration:T,ingredients:A,outputInventoryItemId:q||void 0,outputQuantity:I||void 0}),r()},R=()=>{s&&window.confirm(`丘멆잺 쮼st치s seguro de eliminar la receta "${s.name}"?

Esta acci칩n no se puede deshacer y perder치s el historial asociado.`)&&(g(s.id),r())};return e.jsx(L,{isOpen:l,onClose:r,title:s?`Editar Receta: ${s.name}`:"A침adir Nueva Receta",children:e.jsxs("form",{onSubmit:E,className:"flex flex-col gap-6 max-h-[80vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(_,{label:"Nombre de la Receta (Singular)",children:e.jsx("input",{type:"text",value:a,onChange:j=>o(j.target.value),required:!0})}),e.jsx(_,{label:"Nombre para Notificaciones (Plural)",children:e.jsx("input",{type:"text",value:x,onChange:j=>d(j.target.value),placeholder:"Ej: Roles de Canela listos",required:!0})})]}),e.jsx(_,{label:"Instrucci칩n de Configuraci칩n Inicial",children:e.jsx("textarea",{value:p,onChange:j=>y(j.target.value),rows:2})}),e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h3",{className:"text-md font-bold text-blue-800 mb-2",children:"Configuraci칩n de la Receta Base"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(_,{label:"Nombre de la Variante Base",children:e.jsx("input",{type:"text",value:b,onChange:j=>c(j.target.value),required:!0})}),e.jsx(_,{label:"Descripci칩n de la Variante Base",children:e.jsx("input",{type:"text",value:h,onChange:j=>v(j.target.value),placeholder:"Ej: 2 charolas (12 pzas)"})})]})]}),e.jsx(ze,{steps:w,setSteps:N}),e.jsx(Ie,{variants:S,setVariants:D,baseSteps:w}),e.jsx(Ae,{ingredients:A,setIngredients:z,inventoryItems:t}),e.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsx("h4",{className:"font-bold text-indigo-800 mb-2 text-sm",children:"Producci칩n (Producto Terminado)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Producto que genera"}),e.jsxs("select",{value:q,onChange:j=>P(j.target.value),className:"w-full p-1.5 border border-gray-300 rounded text-sm",children:[e.jsx("option",{value:"",children:"-- Ninguno --"}),t.map(j=>e.jsx("option",{value:j.id,children:j.name},j.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Cantidad producida"}),e.jsx("input",{type:"number",value:I,onChange:j=>f(parseFloat(j.target.value)),className:"w-full p-1.5 border border-gray-300 rounded text-sm",placeholder:"0"})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t sticky bottom-0 bg-white",children:[e.jsx("div",{children:s&&e.jsx("button",{type:"button",onClick:R,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar Receta"})]})]})]})})},_=({label:l,children:r})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:l}),he.cloneElement(r,{className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ee=je(K,"task_templates"),Pe=()=>{const[l,r]=n.useState([]);return n.useEffect(()=>{const t=ge(ee,pe("title")),a=fe(t,o=>{const x=o.docs.map(d=>({id:d.id,...d.data()}));r(x)},o=>{console.error("Error fetching routines:",o)});return()=>a()},[]),{routines:l,addRoutine:async t=>{try{await ve(ee,t)}catch(a){console.error("Error adding routine:",a)}},updateRoutine:async t=>{const{id:a,...o}=t,x=X(K,"task_templates",a);try{await Ne(x,o)}catch(d){console.error("Error updating routine:",d)}},deleteRoutine:async t=>{const a=X(K,"task_templates",t);try{await ye(a)}catch(o){console.error("Error deleting routine:",o)}}}},Be=[{label:"Lunes",value:1},{label:"Martes",value:2},{label:"Mi칠rcoles",value:3},{label:"Jueves",value:4},{label:"Viernes",value:5},{label:"S치bado",value:6},{label:"Domingo",value:0}],Oe=({isOpen:l,onClose:r,onSave:u,onUpdate:g,onDelete:s,routine:t,users:a})=>{var J;const[o,x]=n.useState(""),[d,p]=n.useState("08:00"),[y,b]=n.useState("30"),[c,h]=n.useState("pre-apertura"),[v,w]=n.useState(""),[N,S]=n.useState(!1),[D,A]=n.useState(""),[z,q]=n.useState([]),[P,I]=n.useState(""),[f,E]=n.useState([]),[R,j]=n.useState(((J=a[0])==null?void 0:J.name)||""),[T,U]=n.useState({});n.useEffect(()=>{var m;l&&(x((t==null?void 0:t.title)||""),p((t==null?void 0:t.time)||"08:00"),b(String((t==null?void 0:t.duration)||"30")),h((t==null?void 0:t.shift)||"pre-apertura"),w((t==null?void 0:t.zone)||""),S((t==null?void 0:t.isCritical)||!1),A((t==null?void 0:t.notes)||""),q((t==null?void 0:t.subtasks)||[]),E((t==null?void 0:t.frequencyDays)||[]),j((t==null?void 0:t.defaultEmployee)||((m=a[0])==null?void 0:m.name)||""),U((t==null?void 0:t.customAssignments)||{}))},[l,t,a]);const $=m=>{if(m.preventDefault(),!o.trim())return;const k={title:o,subtasks:z,notes:D,frequencyDays:f,time:d,duration:parseInt(y),shift:c,zone:v,isCritical:N,defaultEmployee:R,customAssignments:T};t?g({...k,id:t.id}):u(k),r()},F=m=>{if(f.includes(m)){E(M=>M.filter(O=>O!==m));const k={...T};delete k[m],U(k)}else E(k=>[...k,m])},Q=(m,k)=>{if(k===R){const M={...T};delete M[m],U(M)}else U(M=>({...M,[m]:k}))},H=()=>{P.trim()&&(q([...z,{id:`st-${Date.now()}`,text:P,isCompleted:!1}]),I(""))};return e.jsx(L,{isOpen:l,onClose:r,title:t?"Editar Rutina":"Nueva Rutina Maestra",children:e.jsxs("form",{onSubmit:$,className:"flex flex-col gap-5 max-h-[80vh] overflow-y-auto pr-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Nombre de la Tarea"}),e.jsx("input",{type:"text",value:o,onChange:m=>x(m.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",placeholder:"Ej: Limpieza de M치quina"})]}),e.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h4",{className:"font-bold text-gray-700",children:"Programaci칩n y Asignaci칩n"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Por defecto:",e.jsx("select",{value:R,onChange:m=>j(m.target.value),className:"ml-2 p-1 rounded border border-gray-300 font-bold text-blue-600",children:a.map(m=>e.jsx("option",{value:m.name,children:m.name},m.id))})]})]}),e.jsx("div",{className:"space-y-2",children:Be.map(m=>{var V;const k=f.includes(m.value),M=T[m.value]||R,O=((V=a.find(B=>B.name===M))==null?void 0:V.color)||"#ccc";return e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md transition-colors ${k?"bg-white shadow-sm border border-blue-200":"opacity-60"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:k,onChange:()=>F(m.value),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:`font-medium ${k?"text-gray-900":"text-gray-500"}`,children:m.label})]}),k&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Asignar a:"}),e.jsx("div",{className:"relative",children:e.jsx("select",{value:M,onChange:B=>Q(m.value,B.target.value),className:"pl-2 pr-6 py-1 text-sm border border-gray-300 rounded-md bg-gray-50 appearance-none cursor-pointer hover:border-blue-400 focus:outline-none",style:{borderLeftWidth:"4px",borderLeftColor:O},children:a.map(B=>e.jsx("option",{value:B.name,children:B.name},B.id))})})]})]},m.value)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Hora (24h)"}),e.jsx("input",{type:"time",value:d,onChange:m=>p(m.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Duraci칩n"}),e.jsx("select",{value:y,onChange:m=>b(m.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",children:we.map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Turno"}),e.jsxs("select",{value:c,onChange:m=>h(m.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",children:[e.jsx("option",{value:"pre-apertura",children:"Pre-apertura"}),e.jsx("option",{value:"matutino",children:"Matutino"}),e.jsx("option",{value:"cierre",children:"Cierre"}),e.jsx("option",{value:"default",children:"Otro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Zona"}),e.jsx("input",{type:"text",value:v,onChange:m=>w(m.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Subtareas Maestras"}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[e.jsx("ul",{className:"mb-2 space-y-1",children:z.map((m,k)=>e.jsxs("li",{className:"flex justify-between text-sm bg-white p-1 px-2 rounded border border-gray-100",children:[e.jsx("span",{children:m.text}),e.jsx("button",{type:"button",onClick:()=>q(z.filter((M,O)=>O!==k)),className:"text-red-400 hover:text-red-600",children:e.jsx(C,{name:"x",size:14})})]},k))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:P,onChange:m=>I(m.target.value),placeholder:"Nueva subtarea...",className:"flex-1 p-1 text-sm border rounded"}),e.jsx("button",{type:"button",onClick:H,className:"px-3 bg-blue-500 text-white rounded text-sm",children:e.jsx(C,{name:"plus",size:14})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:m=>S(m.target.checked),className:"w-4 h-4 text-red-600"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Marcar como Cr칤tica"})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[t&&e.jsx("button",{type:"button",onClick:()=>{window.confirm("Borrar rutina?")&&s(t.id),r()},className:"px-4 py-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100",children:"Eliminar"}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 font-bold",children:"Guardar Rutina"})]})]})]})})},Te=({users:l})=>{const{routines:r,addRoutine:u,updateRoutine:g,deleteRoutine:s}=Pe(),[t,a]=n.useState(!1),[o,x]=n.useState(null),d=()=>{x(null),a(!0)},p=b=>{x(b),a(!0)},y=b=>{if(b.length===7)return"Todos los d칤as";if(b.length===0)return"Sin programar";const c=["D","L","M","M","J","V","S"];return b.sort().map(h=>c[h]).join(", ")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Rutinas Maestras"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configura tareas recurrentes y sus asignaciones autom치ticas."})]}),e.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(C,{name:"plus-circle",size:16}),"Nueva Rutina"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.map(b=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer group",onClick:()=>p(b),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:b.title}),e.jsx(C,{name:"pencil",size:16,className:"text-gray-300 group-hover:text-blue-500"})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{name:"calendar",size:14,className:"text-gray-400"}),e.jsx("span",{children:y(b.frequencyDays)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{name:"check-circle",size:14,className:"text-gray-400"}),e.jsxs("span",{children:[b.time," (",b.shift,")"]})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-gray-400",children:"Asignaci칩n:"}),e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-gray-700 font-medium",children:b.defaultEmployee}),Object.keys(b.customAssignments).length>0&&e.jsxs("span",{className:"bg-blue-50 text-blue-600 px-2 py-1 rounded font-bold",children:["+",Object.keys(b.customAssignments).length," Excepciones"]})]})]},b.id)),r.length===0&&e.jsx("div",{className:"col-span-full text-center py-10 text-gray-400 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:e.jsx("p",{children:"No hay rutinas configuradas."})})]}),e.jsx(Oe,{isOpen:t,onClose:()=>a(!1),onSave:u,onUpdate:g,onDelete:s,routine:o,users:l})]})},Ue=({isOpen:l,onClose:r,onSave:u,onUpdate:g,onDelete:s,beverage:t})=>{const[a,o]=n.useState(""),[x,d]=n.useState("caliente"),[p,y]=n.useState(""),[b,c]=n.useState(""),[h,v]=n.useState(!1),[w,N]=n.useState([]),[S,D]=n.useState(""),[A,z]=n.useState("");n.useEffect(()=>{l&&(o((t==null?void 0:t.name)||""),d((t==null?void 0:t.category)||"caliente"),y((t==null?void 0:t.recipe)||""),c(t!=null&&t.modifiers?t.modifiers.join(", "):""),v((t==null?void 0:t.hasSizes)||!1),N((t==null?void 0:t.sizes)||[]))},[l,t]);const q=f=>{if(f.preventDefault(),!a.trim())return;const E=b.split(",").map(j=>j.trim()).filter(j=>j!==""),R={name:a,category:x,recipe:p,modifiers:E,hasSizes:h,sizes:w};t?g({...R,id:t.id}):u(R),r()},P=()=>{S.trim()&&(N([...w,{name:S.trim(),recipe:A.trim()}]),D(""),z(""))},I=f=>{N(w.filter((E,R)=>R!==f))};return e.jsx(L,{isOpen:l,onClose:r,title:t?"Editar Bebida":"Nueva Bebida",children:e.jsxs("form",{onSubmit:q,className:"flex flex-col gap-4 max-h-[80vh] overflow-y-auto pr-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre"}),e.jsx("input",{type:"text",value:a,onChange:f=>o(f.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Ej: Latte, V60 Etiop칤a"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Categor칤a"}),e.jsxs("select",{value:x,onChange:f=>d(f.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white",children:[e.jsx("option",{value:"caliente",children:"Caliente (M치quina)"}),e.jsx("option",{value:"frio",children:"Fr칤o / Frapp칠"}),e.jsx("option",{value:"metodo",children:"M칠todo (V60, Chemex)"}),e.jsx("option",{value:"otro",children:"Otro"})]})]}),e.jsxs("div",{className:"border-t border-b border-gray-200 py-4 my-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Configuraci칩n de Receta"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-xs ${h?"text-blue-600 font-bold":"text-gray-500"}`,children:"M칰ltiples Tama침os"}),e.jsx("button",{type:"button",onClick:()=>v(!h),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${h?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${h?"translate-x-6":"translate-x-1"}`})})]})]}),h?e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Define las variantes (Ej: 12oz, 16oz) y su receta espec칤fica."}),e.jsx("ul",{className:"space-y-2 mb-3",children:w.map((f,E)=>e.jsxs("li",{className:"bg-white p-2 rounded border border-gray-200 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"font-bold text-blue-700",children:f.name}),e.jsx("button",{type:"button",onClick:()=>I(E),className:"text-red-400 hover:text-red-600",children:e.jsx(C,{name:"x",size:14})})]}),e.jsx("p",{className:"text-gray-600 mt-1 text-xs",children:f.recipe})]},E))}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("input",{type:"text",value:S,onChange:f=>D(f.target.value),placeholder:"Nombre Tama침o (Ej: 16oz)",className:"p-2 border rounded text-sm"}),e.jsx("textarea",{value:A,onChange:f=>z(f.target.value),placeholder:"Receta para este tama침o...",rows:2,className:"p-2 border rounded text-sm"}),e.jsx("button",{type:"button",onClick:P,className:"bg-blue-500 text-white py-1 px-3 rounded text-sm font-bold self-end",children:"A침adir Tama침o"})]})]}):e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-1 flex items-center gap-2",children:["Receta 칔nica ",e.jsx(C,{name:"pencil",size:14})]}),e.jsx("textarea",{value:p,onChange:f=>y(f.target.value),rows:4,className:"w-full p-2 border border-gray-300 rounded-md text-sm",placeholder:"Ej: 18.5g in, 36g out. Leche texturizada fina..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Modificadores Comunes"}),e.jsx("input",{type:"text",value:b,onChange:f=>c(f.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Separados por coma: Leche Soya, Deslactosada, Extra Shot"})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t mt-2",children:[t&&e.jsx("button",{type:"button",onClick:()=>{window.confirm("쮼liminar?")&&s(t.id),r()},className:"text-red-500 font-bold text-sm",children:"Eliminar"}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded-lg font-bold",children:"Guardar"})]})]})]})})},$e=()=>{const{beverages:l,addBeverage:r,updateBeverage:u,deleteBeverage:g}=Ce(),[s,t]=n.useState(!1),[a,o]=n.useState(null),x=y=>{o(y),t(!0)},d=()=>{o(null),t(!0)},p=l.reduce((y,b)=>((y[b.category]=y[b.category]||[]).push(b),y),{});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Men칰 de Bebidas"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Gestiona las recetas r치pidas para el KDS."})]}),e.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(C,{name:"plus-circle",size:16}),"Nueva Bebida"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.keys(p).map(y=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-lg capitalize mb-3 text-blue-700 border-b pb-2",children:y}),e.jsx("ul",{className:"space-y-2",children:p[y].map(b=>e.jsxs("li",{onClick:()=>x(b),className:"flex justify-between items-center p-2 hover:bg-gray-50 rounded cursor-pointer group",children:[e.jsx("span",{className:"font-medium text-gray-700",children:b.name}),e.jsx(C,{name:"pencil",size:14,className:"text-gray-300 group-hover:text-blue-500"})]},b.id))})]},y))}),e.jsx(Ue,{isOpen:s,onClose:()=>t(!1),onSave:r,onUpdate:u,onDelete:g,beverage:a})]})},Ge=({providersHook:l,categoriesHook:r,recipeLogHook:u,usersHook:g,recipesHook:s})=>{const[t,a]=n.useState("production"),{providers:o,addProvider:x,updateProvider:d,deleteProvider:p}=l,[y,b]=n.useState(!1),[c,h]=n.useState(null),{categories:v,addCategory:w,updateCategory:N,deleteCategory:S}=r,[D,A]=n.useState(!1),[z,q]=n.useState(null),{feedbackLog:P}=u,[I,f]=n.useState(null),{users:E,addUser:R,updateUser:j,deleteUser:T}=g,[U,$]=n.useState(!1),[F,Q]=n.useState(null),{recipes:H,addRecipe:J,updateRecipe:m,deleteRecipe:k}=s,[M,O]=n.useState(!1),[V,B]=n.useState(null),te=i=>{h(i),b(!0)},se=()=>{h(null),b(!0)},ae=i=>{"id"in i?d(i):x(i)},le=i=>{q(i),A(!0)},re=()=>{q(null),A(!0)},ne=i=>{"id"in i?N(i):w(i)},oe=i=>{Q(i),$(!0)},ie=()=>{Q(null),$(!0)},de=i=>{"id"in i?j(i):R(i)},W=i=>{B(i),O(!0)},ce=()=>{B(null),O(!0)},me=i=>{V?m({...i,id:V.id}):J(i)},G=({tab:i,label:ue,icon:xe})=>e.jsxs("button",{onClick:()=>a(i),className:`flex items-center gap-2 py-3 px-4 text-sm md:text-base font-bold border-b-4 transition-colors whitespace-nowrap ${t===i?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[e.jsx(C,{name:xe,size:18}),ue]}),Z=H.filter(i=>i.name.toLowerCase().includes("(horneado)")),Y=H.filter(i=>!i.name.toLowerCase().includes("(horneado)"));return e.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 h-full overflow-y-auto",children:[e.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex gap-4 overflow-x-auto",children:[e.jsx(G,{tab:"production",label:"Panader칤a",icon:"cake-slice"}),e.jsx(G,{tab:"beverages",label:"Bebidas",icon:"star"}),e.jsx(G,{tab:"operations",label:"Usuarios",icon:"clipboard-kanban"}),e.jsx(G,{tab:"routines",label:"Rutinas",icon:"list"}),e.jsx(G,{tab:"inventory",label:"Inventario",icon:"archive"})]})}),e.jsxs("div",{className:"mt-6",children:[t==="production"&&e.jsxs("section",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Recetas de Pan"}),e.jsxs("button",{onClick:ce,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(C,{name:"plus-circle",size:16}),"A침adir Receta"]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg text-blue-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"游볶"})," Elaboraci칩n de Masas"]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:Y.length>0?Y.map(i=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-800",children:i.name}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>f(i),className:"text-sm text-gray-500 hover:text-blue-600 hover:underline font-semibold transition-colors",children:"Historial"}),e.jsx("button",{onClick:()=>W(i),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline font-semibold transition-colors",children:"Editar"})]})]},i.id)):e.jsx("li",{className:"p-4 text-gray-400 italic text-sm text-center",children:"No hay recetas de masas configuradas."})})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg text-orange-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"游댠"})," Horneado Final"]}),e.jsx("div",{className:"bg-white rounded-lg border border-orange-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-orange-100",children:Z.length>0?Z.map(i=>e.jsxs("li",{className:"p-4 flex justify-between items-center bg-orange-50/30",children:[e.jsx("span",{className:"font-medium text-gray-800",children:i.name.replace(/\(Horneado\)/i,"").trim()}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>f(i),className:"text-sm text-gray-500 hover:text-blue-600 hover:underline font-semibold transition-colors",children:"Historial"}),e.jsx("button",{onClick:()=>W(i),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline font-semibold transition-colors",children:"Editar"})]})]},i.id)):e.jsx("li",{className:"p-4 text-gray-400 italic text-sm text-center",children:"No hay recetas de horneado configuradas."})})})]})]}),t==="routines"&&e.jsx(Te,{users:E}),t==="beverages"&&e.jsx($e,{}),t==="inventory"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"Proveedores de Inventario"}),e.jsxs("button",{onClick:se,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(C,{name:"plus-circle",size:16}),"A침adir Proveedor"]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:o.length>0?o.map(i=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-800",children:i.name}),e.jsx("button",{onClick:()=>te(i),className:"text-sm text-blue-600 hover:underline font-semibold",children:"Editar"})]},i.id)):e.jsx("li",{className:"p-4 text-center text-gray-500",children:"No hay proveedores. 춰A침ade el primero!"})})})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"Categor칤as de Inventario"}),e.jsxs("button",{onClick:re,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(C,{name:"plus-circle",size:16}),"A침adir Categor칤a"]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:v.length>0?v.map(i=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-800",children:i.name}),e.jsx("button",{onClick:()=>le(i),className:"text-sm text-blue-600 hover:underline font-semibold",children:"Editar"})]},i.id)):e.jsx("li",{className:"p-4 text-center text-gray-500",children:"No hay categor칤as. 춰A침ade la primera!"})})})]})]}),t==="operations"&&e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"Gesti칩n de Usuarios"}),e.jsxs("button",{onClick:ie,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(C,{name:"plus-circle",size:16}),"A침adir Usuario"]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:E.length>0?E.map(i=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:i.color}}),e.jsx("span",{className:"font-medium text-gray-800",children:i.name})]}),e.jsx("button",{onClick:()=>oe(i),className:"text-sm text-blue-600 hover:underline font-semibold",children:"Editar"})]},i.id)):e.jsx("li",{className:"p-4 text-center text-gray-500",children:"No hay usuarios. 춰A침ade el primero!"})})})]})]})]}),e.jsx(Se,{isOpen:y,onClose:()=>b(!1),onSave:ae,onDelete:p,provider:c}),e.jsx(ke,{isOpen:D,onClose:()=>A(!1),onSave:ne,onDelete:S,category:z}),e.jsx(De,{isOpen:U,onClose:()=>$(!1),onSave:de,onDelete:T,user:F}),e.jsx(qe,{isOpen:M,onClose:()=>O(!1),onSave:me,onDelete:k,recipe:V}),I&&e.jsx(Re,{isOpen:!!I,onClose:()=>f(null),recipe:I,feedbackLog:P.filter(i=>i.recipeId===I.id)})]})};export{Ge as default};
