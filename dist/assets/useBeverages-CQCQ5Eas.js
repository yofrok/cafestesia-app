import{r as c,q as d,o as w,d as i,w as B,e as y,f as o,h as g,g as n,u as l,i as u}from"./index-HV6JOfac.js";const v=y(o,"beverages"),p=y(o,"beverage_orders"),C=()=>{const[b,f]=c.useState([]),[h,O]=c.useState([]);return c.useEffect(()=>{const e=d(v,w("name")),r=i(e,t=>{const s=t.docs.map(a=>({id:a.id,...a.data()}));f(s)},t=>console.error("Error fetching beverages:",t));return()=>r()},[]),c.useEffect(()=>{const e=d(p,B("status","==","pending")),r=i(e,t=>{const s=t.docs.map(a=>({id:a.id,...a.data()}));s.sort((a,m)=>a.createdAt-m.createdAt),O(s)},t=>console.error("Error fetching active orders:",t));return()=>r()},[]),{beverages:b,activeOrders:h,addBeverage:async e=>{try{await u(v,e)}catch(r){console.error(r)}},updateBeverage:async e=>{const{id:r,...t}=e;try{await l(n(o,"beverages",r),t)}catch(s){console.error(s)}},deleteBeverage:async e=>{try{await g(n(o,"beverages",e))}catch(r){console.error(r)}},createOrder:async(e,r)=>{const t={customerName:e,items:r,status:"pending",createdAt:Date.now()},s=JSON.parse(JSON.stringify(t));try{await u(p,s)}catch(a){console.error("Error creating order:",a)}},completeOrder:async e=>{try{await l(n(o,"beverage_orders",e),{status:"completed",completedAt:Date.now()})}catch(r){console.error("Error completing order:",r)}},cancelOrder:async e=>{try{await g(n(o,"beverage_orders",e))}catch(r){console.error("Error cancelling order:",r)}}}};export{C as u};
