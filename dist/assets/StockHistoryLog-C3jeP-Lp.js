import{r as c,j as e,I as i}from"./index-Ba-L6XfD.js";const h=({logs:s,onClose:l})=>{const[r,d]=c.useState("all"),a=c.useMemo(()=>r==="all"?s:s.filter(t=>t.type===r),[s,r]),o=t=>{switch(t){case"production":return"bg-blue-100 text-blue-800 border-blue-200";case"purchase":return"bg-green-100 text-green-800 border-green-200";case"waste":return"bg-red-100 text-red-800 border-red-200";case"consumption":return"bg-gray-100 text-gray-600 border-gray-200";default:return"bg-gray-50 text-gray-800 border-gray-200"}},n=t=>{switch(t){case"production":return"Producción";case"purchase":return"Compra";case"waste":return"Merma";case"consumption":return"Insumo Receta";case"adjustment":return"Ajuste";default:return t}};return e.jsxs("div",{className:"fixed inset-0 bg-gray-100 z-50 flex flex-col animate-fadeIn",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-full text-blue-600",children:e.jsx(i,{name:"list",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Historial de Movimientos"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Trazabilidad completa de stock y producción."})]})]}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-full text-gray-600 transition-colors",children:e.jsx(i,{name:"x",size:24})})]}),e.jsx("div",{className:"bg-white p-2 border-b border-gray-200 flex gap-2 overflow-x-auto",children:["all","production","purchase","waste","adjustment"].map(t=>e.jsx("button",{onClick:()=>d(t),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-colors ${r===t?"bg-gray-800 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:t==="all"?"Todos":n(t)},t))}),e.jsx("div",{className:"flex-grow overflow-auto p-4",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-xs uppercase text-gray-500 font-bold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Fecha / Hora"}),e.jsx("th",{className:"p-4",children:"Tipo"}),e.jsx("th",{className:"p-4",children:"Producto"}),e.jsx("th",{className:"p-4 text-right",children:"Cantidad"}),e.jsx("th",{className:"p-4",children:"Responsable"}),e.jsx("th",{className:"p-4",children:"Detalle / Motivo"})]})}),e.jsxs("tbody",{className:"text-sm divide-y divide-gray-100",children:[a.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"p-4 whitespace-nowrap text-gray-600",children:[new Date(t.date).toLocaleDateString()," ",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-gray-400",children:new Date(t.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${o(t.type)}`,children:n(t.type)})}),e.jsx("td",{className:"p-4 font-medium text-gray-800",children:t.itemName}),e.jsxs("td",{className:`p-4 text-right font-bold ${t.quantityChange>0?"text-green-600":"text-red-600"}`,children:[t.quantityChange>0?"+":"",t.quantityChange," ",t.unit]}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-xs font-bold text-gray-600",children:t.responsible.charAt(0)}),e.jsx("span",{className:"text-gray-700",children:t.responsible})]})}),e.jsx("td",{className:"p-4 text-gray-500 italic max-w-xs truncate",title:t.reason||t.recipeName,children:t.reason||t.recipeName||"-"})]},t.id)),a.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400 italic",children:"No hay registros que coincidan con el filtro."})})]})]})})})]})};export{h as S};
