import{u as O,r as a,j as e,R as D,I as k,e as z}from"./index-CE1MFFCv.js";import{M as B}from"./Modal-dsQ9zPJa.js";import{S as U}from"./StockHistoryLog-DEV4cyK8.js";const T=({isOpen:t,onClose:c,onUpdate:h,item:r,isAdding:s,providers:n})=>{const{users:o}=O(),[u,i]=a.useState(""),[x,j]=a.useState(""),[y,w]=a.useState(""),[N,f]=a.useState(""),[S,l]=a.useState(""),[m,p]=a.useState(""),P=s?"Añadir":"Usar / Mermar";a.useEffect(()=>{t&&(i(""),j(""),w(r.providerPreferido||(n.length>0?n[0].name:"")),f(o.length>0?o[0].name:""),l(""),p(""))},[t,r,n,o]);const M=g=>{g.preventDefault(),p("");const v=parseFloat(u);if(isNaN(v)||v<=0){p("Introduce una cantidad válida mayor que 0.");return}if(!N){p("Debes seleccionar un responsable.");return}const I={itemId:r.id,responsible:N,reason:S};if(s){const C=parseFloat(x);if(isNaN(C)||C<0){p("Introduce un precio total válido.");return}h({...I,change:v,purchaseDetails:{totalPrice:C,providerName:y}})}else h({...I,change:-v});c()};return e.jsx(B,{isOpen:t,onClose:c,title:`${P} Stock`,children:e.jsxs("form",{onSubmit:M,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{children:["Producto: ",e.jsx("span",{className:"font-bold",children:r.name})]}),e.jsxs("p",{children:["Stock Actual: ",r.currentStock," ",r.unit]})]}),e.jsx(A,{label:`Cantidad a ${s?"añadir":"restar"}`,children:e.jsx("input",{type:"number",value:u,onChange:g=>i(g.target.value),step:"any",min:"0.01",required:!0,autoFocus:!0})}),s?e.jsxs(e.Fragment,{children:[e.jsx(A,{label:"Precio Total de la Compra ($)",children:e.jsx("input",{type:"number",value:x,onChange:g=>j(g.target.value),step:"any",min:"0",required:!0})}),e.jsx(A,{label:"Proveedor",children:e.jsxs("select",{value:y,onChange:g=>w(g.target.value),required:!0,children:[n.map(g=>e.jsx("option",{value:g.name,children:g.name},g.id)),e.jsx("option",{value:"Otro",children:"Otro"})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{label:"Motivo (Opcional)",children:e.jsx("input",{type:"text",value:S,onChange:g=>l(g.target.value),placeholder:"Ej: Producción, Merma, Degustación...",list:"reasons-list"})}),e.jsxs("datalist",{id:"reasons-list",children:[e.jsx("option",{value:"Producción venta"}),e.jsx("option",{value:"Merma (Caducado)"}),e.jsx("option",{value:"Merma (Dañado)"}),e.jsx("option",{value:"Consumo Interno"}),e.jsx("option",{value:"Ajuste de Inventario"})]})]}),e.jsx(A,{label:"Responsable",children:e.jsx("select",{value:N,onChange:g=>f(g.target.value),required:!0,children:o.map(g=>e.jsx("option",{value:g.name,children:g.name},g.id))})}),m&&e.jsx("p",{className:"text-sm text-red-600 text-center",children:m}),e.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[e.jsx("button",{type:"button",onClick:c,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:P})]})]})})},A=({label:t,children:c})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:t}),D.cloneElement(c,{className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),H=({icon:t,onClick:c,colorClass:h,title:r})=>e.jsx("button",{title:r,onClick:c,className:`w-10 h-10 flex items-center justify-center bg-gray-100 border border-gray-200 rounded-full transition-colors ${h}`,children:e.jsx(k,{name:t,size:20})}),R=({item:t,onEdit:c,onAddStock:h,onUseStock:r,onViewHistory:s})=>{const n=t.currentStock<=t.minStock,o=t.purchaseHistory&&t.purchaseHistory.length>0?t.purchaseHistory[t.purchaseHistory.length-1]:null,u=o?(o.totalPrice/o.quantity).toFixed(2):null;return e.jsxs("div",{className:`p-4 bg-white rounded-lg border flex flex-col md:flex-row md:items-center justify-between gap-4 ${n?"border-red-300 bg-red-50":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:"font-bold text-lg",children:t.name}),e.jsxs("div",{className:"flex flex-wrap items-baseline gap-x-4 gap-y-1 text-sm",children:[e.jsxs("p",{children:["Stock: ",e.jsx("span",{className:"font-semibold",children:t.currentStock.toFixed(2)})," ",t.unit]}),e.jsxs("p",{className:"text-gray-500",children:["(Mín: ",t.minStock," ",t.unit,")"]}),u&&e.jsxs("p",{className:"text-gray-500 font-semibold",children:["Último Precio: $",u," / ",t.unit]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 justify-end",children:[e.jsx(H,{icon:"plus",onClick:h,colorClass:"hover:bg-green-100 hover:text-green-600",title:"Añadir Stock"}),e.jsx(H,{icon:"minus",onClick:r,colorClass:"hover:bg-red-100 hover:text-red-600",title:"Usar Stock"}),e.jsx(H,{icon:"bar-chart-2",onClick:s,colorClass:"hover:bg-yellow-100 hover:text-yellow-600",title:"Historial de Precios"}),e.jsx(H,{icon:"pencil",onClick:()=>c(t),colorClass:"hover:bg-blue-100 hover:text-blue-600",title:"Editar Producto"})]})]})},V=({isOpen:t,onClose:c,item:h})=>{const r=a.useMemo(()=>h.purchaseHistory?[...h.purchaseHistory].sort((n,o)=>new Date(o.date).getTime()-new Date(n.date).getTime()):[],[h.purchaseHistory]),s=a.useMemo(()=>!r||r.length===0?null:r.reduce((n,o)=>{const u=o.totalPrice/o.quantity;return u<n?u:n},1/0),[r]);return e.jsxs(B,{isOpen:t,onClose:c,title:`Historial de Precios: ${h.name}`,children:[e.jsxs("div",{className:"max-h-[60vh] overflow-y-auto",children:[s&&s!==1/0&&e.jsx("div",{className:"p-3 mb-4 bg-green-100 border border-green-300 rounded-lg text-center",children:e.jsxs("p",{className:"font-bold text-green-800",children:["Mejor Precio Histórico: $",s.toFixed(2)," / ",h.unit]})}),r.length>0?e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2",children:"Fecha"}),e.jsx("th",{className:"p-2",children:"Proveedor"}),e.jsx("th",{className:"p-2",children:"Cant."}),e.jsx("th",{className:"p-2",children:"Total"}),e.jsx("th",{className:"p-2",children:"Unitario"})]})}),e.jsx("tbody",{children:r.map(n=>{const o=n.totalPrice/n.quantity,u=o.toFixed(2)===(s==null?void 0:s.toFixed(2));return e.jsxs("tr",{className:`border-b ${u?"bg-green-50":""}`,children:[e.jsx("td",{className:"p-2",children:new Date(n.date).toLocaleDateString()}),e.jsx("td",{className:"p-2",children:n.providerName}),e.jsxs("td",{className:"p-2",children:[n.quantity," ",h.unit]}),e.jsxs("td",{className:"p-2",children:["$",n.totalPrice.toFixed(2)]}),e.jsxs("td",{className:`p-2 font-bold ${u?"text-green-700":""}`,children:["$",o.toFixed(2)]})]},n.id)})})]}):e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay historial de compras para este producto."})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:c,className:"py-2 px-6 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cerrar"})})]})},L=({title:t,count:c,children:h,defaultOpen:r=!0,icon:s,colorClass:n="text-gray-800",bgClass:o="bg-gray-100"})=>{const[u,i]=a.useState(r);return e.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[e.jsxs("button",{onClick:()=>i(!u),className:`w-full flex items-center justify-between p-4 transition-colors ${o} hover:brightness-95`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s&&e.jsx(k,{name:s,size:20,className:n}),e.jsx("h3",{className:`text-lg font-bold ${n}`,children:t}),c!==void 0&&e.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs font-bold text-gray-500 shadow-sm",children:c})]}),e.jsx("div",{className:`text-gray-400 transition-transform duration-300 ${u?"rotate-90":""}`,children:e.jsx(k,{name:"chevron-right",size:20})})]}),e.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${u?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"p-4 bg-white border-t border-gray-100",children:h})})]})},G=({items:t,onEdit:c,onRecordStockChange:h,providers:r})=>{const[s,n]=a.useState(null),[o,u]=a.useState(null),[i,x]=a.useState("name"),[j,y]=a.useState("all"),w=a.useMemo(()=>t.filter(l=>j==="all"?!0:(l.providerPreferido||"Sin Proveedor")===j),[t,j]),N=a.useMemo(()=>{const l=[...w];switch(i){case"name":l.sort((m,p)=>m.name.localeCompare(p.name));break;case"stockAsc":l.sort((m,p)=>m.currentStock/(m.minStock||1)-p.currentStock/(p.minStock||1));break;case"stockDesc":l.sort((m,p)=>p.currentStock-m.currentStock);break}return l},[w,i]),f=a.useMemo(()=>N.reduce((l,m)=>{const p=m.category||"Sin Categoría";return l[p]||(l[p]=[]),l[p].push(m),l},{}),[N]),S=Object.keys(f).sort();return t.length===0?e.jsx("p",{className:"text-center text-gray-500 mt-8",children:"No se encontraron productos."}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 p-3 bg-white rounded-xl border border-gray-200 shadow-sm sticky top-0 z-20",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Ordenar por"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x("name"),className:`flex-1 py-1.5 px-3 rounded-lg text-sm font-medium border transition-colors ${i==="name"?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-gray-200 text-gray-600"}`,children:"A-Z"}),e.jsx("button",{onClick:()=>x("stockAsc"),className:`flex-1 py-1.5 px-3 rounded-lg text-sm font-medium border transition-colors ${i==="stockAsc"?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-gray-200 text-gray-600"}`,children:"Stock Bajo"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Filtrar Proveedor"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:j,onChange:l=>y(l.target.value),className:"w-full py-1.5 pl-2 pr-8 rounded-lg text-sm border border-gray-200 bg-white text-gray-700 focus:ring-2 focus:ring-blue-500 appearance-none",children:[e.jsx("option",{value:"all",children:"Todos los Proveedores"}),r.map(l=>e.jsx("option",{value:l.name,children:l.name},l.id)),e.jsx("option",{value:"Sin Proveedor",children:"Sin Proveedor"})]}),e.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:e.jsx(k,{name:"chevron-right",size:14,className:"rotate-90"})})]})]})]}),e.jsxs("div",{className:"space-y-4 pb-20",children:[S.map(l=>e.jsx(L,{title:l,count:f[l].length,colorClass:"text-blue-800",bgClass:"bg-blue-50/50",children:e.jsx("div",{className:"space-y-3",children:f[l].map(m=>e.jsx(R,{item:m,onEdit:c,onAddStock:()=>n({item:m,isAdding:!0}),onUseStock:()=>n({item:m,isAdding:!1}),onViewHistory:()=>u(m)},m.id))})},l)),S.length===0&&e.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-dashed",children:e.jsx("p",{className:"text-gray-500",children:"No hay productos que coincidan con los filtros."})})]}),s&&e.jsx(T,{isOpen:!!s,onClose:()=>n(null),item:s.item,isAdding:s.isAdding,onUpdate:h,providers:r}),o&&e.jsx(V,{isOpen:!!o,onClose:()=>u(null),item:o})]})},Q=({items:t,onRecordStockChange:c,providers:h})=>{const[r,s]=a.useState(null),n=t.filter(i=>i.currentStock<=i.minStock),o=n.reduce((i,x)=>{const j=x.providerPreferido||"Sin Proveedor";return i[j]||(i[j]=[]),i[j].push(x),i},{}),u=Object.keys(o).sort((i,x)=>i==="Sin Proveedor"?1:x==="Sin Proveedor"?-1:i.localeCompare(x));return n.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"bg-green-100 p-4 rounded-full mb-4",children:e.jsx(k,{name:"check-circle",size:48,className:"text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"¡Todo en orden!"}),e.jsx("p",{className:"text-gray-500",children:"No hay productos por debajo del stock mínimo."})]}):e.jsxs("div",{className:"space-y-4 pb-20",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-xl flex items-center gap-4",children:[e.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:e.jsx(k,{name:"shopping-cart",className:"text-red-500",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-red-800 text-lg",children:"Lista de Compras Activa"}),e.jsxs("p",{className:"text-red-600 text-sm",children:[n.length," productos requieren reabastecimiento."]})]})]}),u.map(i=>e.jsx(L,{title:i,count:o[i].length,icon:"store",colorClass:"text-gray-800",bgClass:"bg-white",children:e.jsx("div",{className:"space-y-3",children:o[i].map(x=>e.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg flex flex-col sm:flex-row justify-between sm:items-center gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800",children:x.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm mt-1",children:[e.jsxs("span",{className:"text-red-600 font-bold bg-red-100 px-2 py-0.5 rounded",children:["Quedan: ",x.currentStock," ",x.unit]}),e.jsxs("span",{className:"text-gray-500",children:["(Mín: ",x.minStock," ",x.unit,")"]})]})]}),e.jsxs("button",{onClick:()=>s(x),className:"flex-shrink-0 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm shadow-sm active:scale-95",children:[e.jsx(k,{name:"plus-circle",size:16}),"Comprar"]})]},x.id))})},i)),r&&e.jsx(T,{isOpen:!!r,onClose:()=>s(null),item:r,isAdding:!0,onUpdate:c,providers:h})]})},Y=({isOpen:t,onClose:c,onSave:h,onDelete:r,item:s,providers:n,categories:o})=>{const[u,i]=a.useState(""),[x,j]=a.useState(""),[y,w]=a.useState(""),[N,f]=a.useState("0"),[S,l]=a.useState(z[0]),[m,p]=a.useState("0"),[P,M]=a.useState(!1),[g,v]=a.useState("");a.useEffect(()=>{t&&(i((s==null?void 0:s.name)||""),j((s==null?void 0:s.category)||(o.length>0?o[0].name:"")),w((s==null?void 0:s.providerPreferido)||""),f(String((s==null?void 0:s.currentStock)||0)),l((s==null?void 0:s.unit)||z[0]),p(String((s==null?void 0:s.minStock)||0)),M((s==null?void 0:s.isBakeryCritical)||!1),v(""))},[t,s,o]);const I=d=>{d.preventDefault(),v("");const b=parseFloat(N),$=parseFloat(m);if(!u.trim()){v("El nombre es obligatorio.");return}if(!S.trim()){v("La unidad es obligatoria.");return}if(isNaN(b)||b<0){v("Stock debe ser un número positivo.");return}if(isNaN($)||$<0){v("Nivel mínimo debe ser un número positivo.");return}const E={name:u.trim(),category:x.trim()||"Sin Categoría",providerPreferido:y.trim(),currentStock:b,unit:S.trim(),minStock:$,isBakeryCritical:P};h(s?{...s,...E}:E),c()},C=()=>{s&&window.confirm(`¿Estás seguro de que quieres eliminar "${s.name}"?`)&&(r(s.id),c())};return e.jsx(B,{isOpen:t,onClose:c,title:s?"Editar Producto":"Añadir Producto",children:e.jsxs("form",{onSubmit:I,className:"flex flex-col gap-4",children:[e.jsx(F,{label:"Nombre del Producto",children:e.jsx("input",{type:"text",value:u,onChange:d=>i(d.target.value),required:!0})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(F,{label:"Categoría",children:e.jsxs("select",{value:x,onChange:d=>j(d.target.value),children:[e.jsx("option",{value:"",children:"Sin Categoría"}),o.map(d=>e.jsx("option",{value:d.name,children:d.name},d.id))]})}),e.jsx(F,{label:"Proveedor Preferido",children:e.jsxs("select",{value:y,onChange:d=>w(d.target.value),children:[e.jsx("option",{value:"",children:"Sin Proveedor"}),n.map(d=>e.jsx("option",{value:d.name,children:d.name},d.id))]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(F,{label:"Stock Actual",children:e.jsx("input",{type:"number",value:N,onChange:d=>f(d.target.value),step:"any",min:"0",required:!0})}),e.jsx(F,{label:"Unidad",children:e.jsx("select",{value:S,onChange:d=>l(d.target.value),required:!0,children:z.map(d=>e.jsx("option",{value:d,children:d},d))})})]}),e.jsx(F,{label:"Nivel Mínimo (para Alertas)",children:e.jsx("input",{type:"number",value:m,onChange:d=>p(d.target.value),step:"any",min:"0",required:!0})}),e.jsxs("div",{className:"bg-emerald-50 p-3 rounded-lg border border-emerald-200 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm font-bold text-emerald-800",children:"Insumo Crítico de Panadería"}),e.jsx("span",{className:"text-xs text-emerald-600",children:'Aparecerá en la columna "Insumos" del tablero de panadería.'})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:P,onChange:d=>M(d.target.checked)}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-600"})]})]}),g&&e.jsx("p",{className:"text-sm text-red-600 text-center",children:g}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{children:s&&e.jsx("button",{type:"button",onClick:C,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:c,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar"})]})]})]})})},F=({label:t,children:c})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:t}),D.cloneElement(c,{className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),K=({inventoryHook:t,providers:c,categories:h})=>{const{items:r,addItem:s,updateItem:n,deleteItem:o,recordStockChange:u,stockLogs:i}=t,[x,j]=a.useState("general"),[y,w]=a.useState(""),[N,f]=a.useState(!1),[S,l]=a.useState(null),[m,p]=a.useState(!1),P=b=>{l(b),f(!0)},M=()=>{l(null),f(!0)},g=()=>{f(!1),l(null)},v=b=>{"id"in b?n(b):s(b)},I=a.useMemo(()=>r.filter(b=>b.name.toLowerCase().includes(y.toLowerCase())),[r,y]),C=a.useMemo(()=>r.filter(b=>b.currentStock<=b.minStock).length,[r]),d=({view:b,label:$,icon:E,badge:q})=>e.jsxs("button",{onClick:()=>j(b),className:`relative flex items-center gap-2 py-3 px-4 text-sm md:text-base font-bold border-b-4 transition-colors ${x===b?"border-blue-600 text-blue-600 bg-blue-50/50":"border-transparent text-gray-500 hover:text-gray-800 hover:bg-gray-50"}`,children:[e.jsx(k,{name:E,size:18}),$,q!==void 0&&q>0&&e.jsx("span",{className:"ml-1 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:q})]});return m?e.jsx(U,{logs:i,onClose:()=>p(!1)}):e.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 flex-shrink-0",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Inventario"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[r.length," productos totales • ",C," alertas"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p(!0),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",title:"Ver Historial",children:e.jsx(k,{name:"list",size:20})}),e.jsxs("button",{onClick:M,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm shadow-sm",children:[e.jsx(k,{name:"plus-circle",size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Nuevo Producto"})]})]})]}),e.jsxs("div",{className:"flex px-4 gap-1 overflow-x-auto",children:[e.jsx(d,{view:"general",label:"General",icon:"boxes"}),e.jsx(d,{view:"shopping-list",label:"Lista de Compras",icon:"shopping-cart",badge:C})]})]}),e.jsx("div",{className:"p-4 bg-gray-50 flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(k,{name:"list",size:20})}),e.jsx("input",{type:"search",value:y,onChange:b=>w(b.target.value),placeholder:"Buscar por nombre...",className:"w-full p-3 pl-4 border border-gray-300 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm transition-shadow"})]})}),e.jsx("div",{className:"flex-grow overflow-y-auto px-4 pb-4",children:x==="general"?e.jsx(G,{items:I,onEdit:P,onRecordStockChange:u,providers:c}):e.jsx(Q,{items:I,onRecordStockChange:u,providers:c})}),e.jsx(Y,{isOpen:N,onClose:g,onSave:v,onDelete:o,item:S,providers:c,categories:h})]})};export{K as default};
