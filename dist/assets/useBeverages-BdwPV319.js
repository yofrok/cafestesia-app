import{r as c,q as d,g as w,h as y,o as i,w as B,a as o,i as g,d as n,k as l,l as u}from"./index-CE1MFFCv.js";const v=y(o,"beverages"),p=y(o,"beverage_orders"),z=()=>{const[O,b]=c.useState([]),[f,h]=c.useState([]);return c.useEffect(()=>{const r=d(v,w("name")),e=i(r,t=>{const a=t.docs.map(s=>({id:s.id,...s.data()}));b(a)},t=>console.error("Error fetching beverages:",t));return()=>e()},[]),c.useEffect(()=>{const r=d(p,B("status","==","pending")),e=i(r,t=>{const a=t.docs.map(s=>({id:s.id,...s.data()}));a.sort((s,m)=>s.createdAt-m.createdAt),h(a)},t=>console.error("Error fetching active orders:",t));return()=>e()},[]),{beverages:O,activeOrders:f,addBeverage:async r=>{try{const e=JSON.parse(JSON.stringify(r));await u(v,e)}catch(e){console.error(e)}},updateBeverage:async r=>{const{id:e,...t}=r;try{const a=JSON.parse(JSON.stringify(t));await l(n(o,"beverages",e),a)}catch(a){console.error(a)}},deleteBeverage:async r=>{try{await g(n(o,"beverages",r))}catch(e){console.error(e)}},createOrder:async(r,e)=>{const t={customerName:r,items:e,status:"pending",createdAt:Date.now()},a=JSON.parse(JSON.stringify(t));try{await u(p,a)}catch(s){console.error("Error creating order:",s)}},completeOrder:async r=>{try{await l(n(o,"beverage_orders",r),{status:"completed",completedAt:Date.now()})}catch(e){console.error("Error completing order:",e)}},cancelOrder:async r=>{try{await g(n(o,"beverage_orders",r))}catch(e){console.error("Error cancelling order:",e)}}}};export{z as u};
