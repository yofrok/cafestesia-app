import{r as i,j as e,T as X,I as H,a as q,b as B}from"./index-CEAhH_F_.js";import{M as Y}from"./Modal-DDJzFDcp.js";const Z=[{label:"L",value:"1"},{label:"M",value:"2"},{label:"M",value:"3"},{label:"J",value:"4"},{label:"V",value:"5"},{label:"S",value:"6"},{label:"D",value:"0"}],J=({isOpen:t,onClose:h,onSave:b,task:l,selectedDate:D})=>{const[T,j]=i.useState(""),[x,d]=i.useState("Ali"),[n,f]=i.useState("08"),[I,M]=i.useState("00"),[y,a]=i.useState("AM"),[o,r]=i.useState("30"),[m,w]=i.useState("pre-apertura"),[C,u]=i.useState(""),[k,A]=i.useState(!1),[N,v]=i.useState("once"),[c,$]=i.useState([]),[p,S]=i.useState([]),[O,P]=i.useState("");i.useEffect(()=>{if(t){j((l==null?void 0:l.text)||""),d((l==null?void 0:l.employee)||"Ali");const s=(l==null?void 0:l.time)||"08:00",[g,R]=s.split(":").map(Number),L=g>=12?"PM":"AM";let K=g%12;K===0&&(K=12),f(String(K).padStart(2,"0")),M(String(R).padStart(2,"0")),a(L),r(String((l==null?void 0:l.duration)||"30")),w((l==null?void 0:l.shift)||"pre-apertura"),u((l==null?void 0:l.zone)||""),A((l==null?void 0:l.isCritical)||!1),v("once"),$([]),S((l==null?void 0:l.subtasks)||[]),P("")}},[t,l]);const _=s=>{$(g=>g.includes(s)?g.filter(R=>R!==s):[...g,s])},E=()=>{if(O.trim()==="")return;const s={id:`sub-${Date.now()}`,text:O.trim(),isCompleted:!1};S([...p,s]),P("")},W=s=>{s.key==="Enter"&&(s.preventDefault(),E())},F=s=>{S(p.filter(g=>g.id!==s))},z=s=>{if(s.preventDefault(),!T){alert("Por favor completa el nombre de la tarea.");return}if(N==="weekly"&&c.length===0){alert("Por favor selecciona al menos un día para la tarea recurrente.");return}let g=parseInt(n,10);y==="PM"&&g!==12?g+=12:y==="AM"&&g===12&&(g=0);const R=`${String(g).padStart(2,"0")}:${I}`,L={text:T,employee:x,time:R,duration:parseInt(o,10),shift:m,zone:C,isCritical:k,date:(l==null?void 0:l.date)||D,recurrence:N,selectedDays:c,subtasks:p};b(L,l==null?void 0:l.id),h()};return e.jsx(Y,{isOpen:t,onClose:h,title:l?"Editar Tarea":"Añadir Nueva Tarea",children:e.jsxs("form",{onSubmit:z,className:"flex flex-col gap-4 max-h-[80vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nombre de la Tarea"}),e.jsx("input",{type:"text",value:T,onChange:s=>j(s.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600 mb-2 block",children:"Repetición"}),e.jsxs("div",{className:"flex gap-2 bg-gray-200 rounded-lg p-1",children:[e.jsx("button",{type:"button",onClick:()=>v("once"),className:`flex-1 p-2 rounded-md text-sm font-bold transition-colors ${N==="once"?"bg-white shadow-sm":""}`,children:"Una vez"}),e.jsx("button",{type:"button",onClick:()=>v("weekly"),className:`flex-1 p-2 rounded-md text-sm font-bold transition-colors ${N==="weekly"?"bg-white shadow-sm":""}`,children:"Semanalmente"})]})]}),N==="weekly"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600 mb-2 block",children:"Días de la semana"}),e.jsx("div",{className:"flex justify-between gap-1",children:Z.map(({label:s,value:g})=>e.jsx("button",{type:"button",onClick:()=>_(g),className:`w-9 h-9 flex items-center justify-center font-bold rounded-full border-2 transition-colors ${c.includes(g)?"bg-blue-600 text-white border-blue-600":"bg-gray-100 border-gray-300"}`,children:s},g))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Empleado"}),e.jsxs("select",{value:x,onChange:s=>d(s.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",children:[e.jsx("option",{children:"Ali"}),e.jsx("option",{children:"Fer"}),e.jsx("option",{children:"Claudia"}),e.jsx("option",{children:"Admin"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Turno"}),e.jsxs("select",{value:m,onChange:s=>w(s.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",children:[e.jsx("option",{value:"matutino",children:"Matutino"}),e.jsx("option",{value:"pre-apertura",children:"Pre Apertura"}),e.jsx("option",{value:"cierre",children:"Cierre"}),e.jsx("option",{value:"default",children:"Otro"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Hora"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("select",{value:n,onChange:s=>f(s.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",children:Array.from({length:12},(s,g)=>g+1).map(s=>e.jsx("option",{value:String(s).padStart(2,"0"),children:String(s).padStart(2,"0")},s))}),e.jsx("select",{value:I,onChange:s=>M(s.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",children:Array.from({length:60},(s,g)=>g).map(s=>e.jsx("option",{value:String(s).padStart(2,"0"),children:String(s).padStart(2,"0")},s))}),e.jsxs("select",{value:y,onChange:s=>a(s.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",children:[e.jsx("option",{children:"AM"}),e.jsx("option",{children:"PM"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Duración"}),e.jsx("select",{value:o,onChange:s=>r(s.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",children:X.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Zona (Opcional)"}),e.jsx("input",{type:"text",value:C,onChange:s=>u(s.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50"})]}),e.jsxs("div",{className:"form-group mt-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600 mb-2 block",children:"Subtareas"}),e.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg",children:[p.length>0&&e.jsx("ul",{className:"space-y-2 mb-3",children:p.map(s=>e.jsxs("li",{className:"flex items-center justify-between bg-white p-2 rounded",children:[e.jsx("span",{className:"text-sm text-gray-700",children:s.text}),e.jsx("button",{type:"button",onClick:()=>F(s.id),className:"p-1 text-gray-400 hover:text-red-600",children:e.jsx(H,{name:"trash-2",size:16})})]},s.id))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:O,onChange:s=>P(s.target.value),onKeyDown:W,placeholder:"Añadir una subtarea...",className:"w-full p-2 border border-gray-300 rounded-md bg-white text-sm"}),e.jsx("button",{type:"button",onClick:E,className:"py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 text-sm",children:"Añadir"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("input",{type:"checkbox",id:"task-critical",checked:k,onChange:s=>A(s.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"task-critical",className:"text-sm font-medium text-gray-600",children:"Es una tarea crítica"})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-4 pt-4 border-t sticky bottom-0 bg-white",children:[e.jsx("button",{type:"button",onClick:h,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar Cambios"})]})]})})},V=({selectedDate:t,setSelectedDate:h})=>{const b=new Date;b.setHours(0,0,0,0);const l=new Date(t),D=t.getDay(),T=t.getDate()-D+(D===0?-6:1);l.setDate(T),l.setHours(0,0,0,0);const j=[];for(let d=0;d<7;d++){const n=new Date(l);n.setDate(l.getDate()+d),j.push(n)}const x=(d,n)=>d.getFullYear()===n.getFullYear()&&d.getMonth()===n.getMonth()&&d.getDate()===n.getDate();return e.jsx("div",{className:"flex justify-center items-center gap-1 md:gap-2 p-1 bg-gray-200 rounded-lg",children:j.map(d=>{const n=x(d,t),f=x(d,b);return e.jsxs("button",{onClick:()=>h(d),className:`px-2 py-1 md:px-4 md:py-2 rounded-md transition-all duration-200 w-full text-center ${n?"bg-white shadow-sm":"bg-transparent"}`,children:[e.jsx("span",{className:`text-xs uppercase font-bold ${n?"text-blue-600":"text-gray-500"}`,children:d.toLocaleDateString("es-ES",{weekday:"short"})}),e.jsx("p",{className:`font-bold text-lg ${f?"text-blue-600":n?"text-gray-800":"text-gray-600"}`,children:d.getDate()})]},d.toISOString())})})},U={Ali:{bg:"bg-pink-100",border:"border-pink-500",text:"text-pink-800"},Fer:{bg:"bg-purple-100",border:"border-purple-500",text:"text-purple-800"},Claudia:{bg:"bg-teal-100",border:"border-teal-500",text:"text-teal-800"},Admin:{bg:"bg-yellow-100",border:"border-yellow-600",text:"text-yellow-900"}},Q=t=>{switch(t){case"inprogress":return"opacity-100 animate-pulse-yellow";case"done":return"opacity-50";case"todo":default:return"opacity-100"}},ee=({task:t,onUpdateStatus:h,onEdit:b,onViewSubtasks:l,style:D})=>{var o,r;const{bg:T,border:j,text:x}=U[t.employee]||U.Admin,d=Q(t.status),n=m=>{m.stopPropagation(),t.status==="todo"?h(t.id,"inprogress"):t.status==="inprogress"?h(t.id,"done"):t.status==="done"&&h(t.id,"todo")},f=new Date(`${t.date}T${t.time}`),M=new Date(f.getTime()+t.duration*6e4).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",hourCycle:"h23"}),y=((o=t.subtasks)==null?void 0:o.length)||0,a=((r=t.subtasks)==null?void 0:r.filter(m=>m.isCompleted).length)||0;return e.jsxs("div",{style:D,onClick:l,className:`absolute rounded-lg p-2 flex gap-2 transition-all duration-300 cursor-pointer ${T} border-2 ${d} ${t.status==="inprogress"?j:"border-transparent"}`,children:[e.jsx("div",{className:`flex-shrink-0 w-1 h-full ${j.replace("border-","bg-")} rounded-full`}),e.jsxs("div",{className:"flex-grow flex flex-col min-w-0 min-h-0",children:[e.jsxs("div",{className:"flex-grow overflow-hidden",children:[e.jsx("p",{className:`font-bold text-sm break-words ${x} ${t.status==="done"?"line-through":""}`,children:t.text}),e.jsxs("p",{className:`text-xs ${x} ${t.status==="done"?"line-through":""}`,children:[t.time," - ",M," (",t.duration," min)"]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1 flex-shrink-0",children:[e.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full bg-white/60 ${x}`,children:t.employee}),e.jsxs("div",{className:"flex items-center gap-2",children:[y>0&&e.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${x}`,children:[e.jsx(H,{name:"list",size:14}),e.jsxs("span",{children:[a,"/",y]})]}),e.jsx("button",{onClick:m=>{m.stopPropagation(),b(t)},className:`p-1 rounded-full hover:bg-black/10 transition-colors ${x}`,title:"Editar Tarea",children:e.jsx(H,{name:"pencil",size:14})})]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("button",{onClick:n,className:"w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all",style:{borderColor:t.status==="done"?"#4ade80":"#9ca3af",backgroundColor:t.status==="done"?"#4ade80":"white"},children:[t.status==="inprogress"&&e.jsx("div",{className:"w-2.5 h-2.5 bg-yellow-500 rounded-full"}),t.status==="done"&&e.jsx(H,{name:"check",size:16,className:"text-white"})]})})]})},te=({task:t,onClose:h,onUpdateTask:b})=>{var M,y;const[l,D]=i.useState(""),T=a=>{const o=(t.subtasks||[]).map(r=>r.id===a?{...r,isCompleted:!r.isCompleted}:r);b({...t,subtasks:o})},j=()=>{if(l.trim()==="")return;const a={id:`sub-${Date.now()}`,text:l.trim(),isCompleted:!1},o=[...t.subtasks||[],a];b({...t,subtasks:o}),D("")},x=a=>{const o=(t.subtasks||[]).filter(r=>r.id!==a);b({...t,subtasks:o})},d=a=>{a.key==="Enter"&&(a.preventDefault(),j())},n=((M=t.subtasks)==null?void 0:M.filter(a=>a.isCompleted).length)||0,f=((y=t.subtasks)==null?void 0:y.length)||0,I=f>0?n/f*100:0;return e.jsx("div",{className:"absolute inset-0 bg-gray-900/40 z-50 flex justify-center items-center p-4",onClick:h,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md flex flex-col",onClick:a=>a.stopPropagation(),children:[e.jsxs("header",{className:"p-4 border-b",children:[e.jsx("h3",{className:"font-bold text-lg text-blue-700",children:t.text}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.time," - ",t.employee]})]}),e.jsxs("div",{className:"p-4 flex-grow overflow-y-auto max-h-[50vh]",children:[f>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[e.jsx("span",{className:"font-semibold text-gray-600",children:"Progreso"}),e.jsxs("span",{children:[n," / ",f]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${I}%`}})})]}),e.jsx("div",{className:"space-y-2",children:(t.subtasks||[]).map(a=>e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-md group",children:[e.jsx("input",{type:"checkbox",checked:a.isCompleted,onChange:()=>T(a.id),className:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 flex-shrink-0"}),e.jsx("span",{className:`flex-grow text-gray-800 ${a.isCompleted?"line-through text-gray-400":""}`,children:a.text}),e.jsx("button",{onClick:()=>x(a.id),className:"p-1 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(H,{name:"trash-2",size:16})})]},a.id))}),f===0&&e.jsx("p",{className:"text-center text-gray-500 py-6",children:"No hay subtareas. ¡Añade la primera!"})]}),e.jsx("div",{className:"p-4 border-t bg-gray-50 rounded-b-xl",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:l,onChange:a=>D(a.target.value),onKeyDown:d,placeholder:"Añadir nueva subtarea...",className:"w-full p-2 border border-gray-300 rounded-md bg-white text-sm focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:j,className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 text-sm",children:"Añadir"})]})})]})})},G=120,se=30,ae=({tasks:t,onUpdateStatus:h,onEditTask:b,onUpdateTask:l})=>{const[D,T]=i.useState(new Date),[j,x]=i.useState(null);i.useEffect(()=>{const a=setInterval(()=>T(new Date),6e4);return()=>clearInterval(a)},[]),i.useEffect(()=>{if(j){const a=t.find(o=>o.id===j.id);x(a||null)}},[t]);const d=i.useMemo(()=>{const a={};return t.forEach(o=>{const r=parseInt(o.time.split(":")[0],10);a[r]=!0}),a},[t]),n=i.useMemo(()=>{let a=0;const o=[];for(let r=B;r<=q;r++){const w=!!d[r]?G:se;o.push({hour:r,top:a,height:w}),a+=w}return o},[d]),f=n.length>0?n[n.length-1].top+n[n.length-1].height:0,I=a=>{const[o,r]=a.split(":").map(Number),m=n.find(C=>C.hour===o);if(!m)return 0;const w=r/60*m.height;return m.top+w},M=i.useMemo(()=>{const a=[...t].sort((r,m)=>r.time.localeCompare(m.time)||m.duration-r.duration),o=[];for(const r of a){const m=I(r.time),w=new Date(`${r.date}T${r.time}`).getTime(),C=w+r.duration*6e4,u=n.find(c=>c.hour===parseInt(r.time.split(":")[0],10)),k=u?u.height:G,A=r.duration/60*k,N=[];for(const c of o){const $=new Date(`${c.task.date}T${c.task.time}`).getTime(),p=$+c.task.duration*6e4;w<p&&C>$&&N.push(c)}let v=0;for(;N.some(c=>c.left===v);)v++;o.push({task:r,top:m,height:A,left:v,width:1,zIndex:v})}return o.map((r,m,w)=>{const{task:C}=r,u=new Date(`${C.date}T${C.time}`).getTime(),k=u+C.duration*6e4,A=w.filter(p=>{const S=new Date(`${p.task.date}T${p.task.time}`).getTime(),O=S+p.task.duration*6e4;return u<O&&k>S}),N=new Set(A.map(p=>p.left)),v=N.size;let c=0;return c=Array.from(N).sort((p,S)=>p-S).indexOf(r.left),{...r,width:100/v,left:c/v*100}})},[t,n]),y=I(`${D.getHours()}:${D.getMinutes()}`);return e.jsxs("div",{className:"p-4 md:p-6 h-full relative",children:[e.jsxs("div",{className:"relative z-10",style:{height:`${f}px`},children:[n.map(({hour:a,top:o,height:r})=>e.jsxs("div",{className:"absolute w-full",style:{top:`${o}px`,height:`${r}px`},children:[e.jsxs("span",{className:"absolute -top-3 left-0 text-sm font-semibold text-gray-400 w-16 text-right pr-4",children:[a,":00"]}),e.jsx("div",{className:"h-px bg-gray-200 ml-16"})]},a)),y>=0&&y<=f&&e.jsx("div",{className:"absolute left-16 right-0 h-0.5 bg-red-500 z-20",style:{top:`${y}px`},children:e.jsx("div",{className:"absolute -left-1.5 -top-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white"})}),e.jsx("div",{className:"absolute top-0 bottom-0 left-16 right-0",children:M.map(({task:a,top:o,height:r,left:m,width:w,zIndex:C})=>e.jsx(ee,{task:a,onUpdateStatus:h,onEdit:b,onViewSubtasks:()=>x(a),style:{top:`${o}px`,height:`${Math.max(r-4,80)}px`,left:`${m}%`,width:`calc(${w}% - 4px)`,zIndex:C}},a.id))})]}),j&&e.jsx(te,{task:j,onClose:()=>x(null),onUpdateTask:l})]})},le=t=>t>0?`en ${t} min`:t===0?"¡Ahora!":`hace ${Math.abs(t)} min`,re=({tasksWithDiff:t})=>e.jsxs("div",{className:"bg-yellow-100 border-b-2 border-yellow-300 p-3 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(H,{name:"alert-triangle",className:"text-yellow-600",size:20}),e.jsx("h3",{className:"font-bold text-yellow-800 text-base",children:"Tareas Críticas Próximas"})]}),e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:t.map(({task:h,diff:b})=>e.jsxs("div",{className:"bg-white/70 p-2 rounded-lg border border-yellow-300 flex-shrink-0 w-60",children:[e.jsx("p",{className:"font-bold text-sm text-gray-800 truncate",children:h.text}),e.jsxs("p",{className:`text-xs font-semibold ${b<=0?"text-red-600 animate-pulse":"text-blue-600"}`,children:[h.time," (",le(b),")"]})]},h.id))})]}),ne=["Ali","Fer","Claudia","Admin"],de=({kanbanHook:t,criticalTasks:h})=>{const{tasks:b,addTask:l,addMultipleTasks:D,updateTask:T,updateTaskStatus:j}=t,[x,d]=i.useState(new Date),[n,f]=i.useState(!1),[I,M]=i.useState(null),[y,a]=i.useState("All"),o=u=>{M(u),f(!0)},r=()=>{f(!1),M(null)},m=(u,k)=>{const{recurrence:A,selectedDays:N,...v}=u,c=new Date(v.date);if(c.setMinutes(c.getMinutes()+c.getTimezoneOffset()),k){const $=b.find(S=>S.id===k);if(!$)return;const p={...$,...v,id:k};if(T(p),A==="weekly"&&N&&N.length>0){const S=new Date(c),O=c.getDay(),P=c.getDate()-O+(O===0?-6:1);S.setDate(P);const _=c.getDay(),E=[];N.forEach(W=>{const F=parseInt(W,10);if(F===_)return;const z=new Date(S);F===0?z.setDate(S.getDate()+6):z.setDate(S.getDate()+(F-1)),z.setMinutes(z.getMinutes()-z.getTimezoneOffset()),E.push({...v,date:z.toISOString().split("T")[0]})}),E.length>0&&D(E)}}else if(A==="weekly"&&N&&N.length>0){const $=new Date(c),p=c.getDay(),S=c.getDate()-p+(p===0?-6:1);$.setDate(S);const O=[];N.forEach(P=>{const _=parseInt(P,10),E=new Date($);_===0?E.setDate($.getDate()+6):E.setDate($.getDate()+(_-1)),E.setMinutes(E.getMinutes()-E.getTimezoneOffset()),O.push({...v,date:E.toISOString().split("T")[0]})}),D(O)}else l(v)},w=i.useMemo(()=>{const u=new Date(x);return u.setMinutes(u.getMinutes()-u.getTimezoneOffset()),u.toISOString().split("T")[0]},[x]),C=i.useMemo(()=>b.filter(u=>{const k=u.date===w,A=y==="All"||u.employee===y;return k&&A}),[b,w,y]);return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[h.length>0&&e.jsx(re,{tasksWithDiff:h}),e.jsxs("div",{className:"operations-header flex flex-col p-4 border-b border-gray-200 gap-4 flex-shrink-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center w-full gap-4",children:[e.jsx(V,{selectedDate:x,setSelectedDate:d}),e.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm w-full justify-center",children:[e.jsx(H,{name:"plus-circle",size:16}),"Añadir Tarea"]})})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-200 rounded-lg p-1 w-full overflow-x-auto",children:[e.jsx("button",{onClick:()=>a("All"),className:`px-3 py-1 text-sm font-bold rounded-md transition-colors ${y==="All"?"bg-white shadow-sm":"bg-transparent text-gray-600"}`,children:"Todos"}),ne.map(u=>e.jsx("button",{onClick:()=>a(u),className:`px-3 py-1 text-sm font-bold rounded-md transition-colors ${y===u?"bg-white shadow-sm":"bg-transparent text-gray-600"}`,children:u},u))]})]}),e.jsx("div",{className:"flex-grow overflow-auto relative",children:e.jsx(ae,{tasks:C,onEditTask:o,onUpdateStatus:j,onUpdateTask:T})}),e.jsx(J,{isOpen:n,onClose:r,onSave:m,task:I,selectedDate:w})]})};export{de as default};
