import{r as d,j as e,I as N,R as ge}from"./index-Dwg9PiyN.js";import{M as R}from"./Modal-CPKfXrv4.js";const he=({isOpen:n,onClose:l,onSave:c,onDelete:h,provider:t})=>{const[a,o]=d.useState("");d.useEffect(()=>{n&&o((t==null?void 0:t.name)||"")},[n,t]);const i=x=>{if(x.preventDefault(),!a.trim())return;const p={name:a.trim()};c(t?{...p,id:t.id}:p),l()},u=()=>{t&&window.confirm(`Â¿EstÃ¡s seguro de que quieres eliminar al proveedor "${t.name}"?`)&&(h(t.id),l())};return e.jsx(R,{isOpen:n,onClose:l,title:t?"Editar Proveedor":"AÃ±adir Proveedor",children:e.jsxs("form",{onSubmit:i,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre del Proveedor"}),e.jsx("input",{type:"text",value:a,onChange:x=>o(x.target.value),required:!0,autoFocus:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{children:t&&e.jsx("button",{type:"button",onClick:u,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:l,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar"})]})]})]})})},pe=({isOpen:n,onClose:l,onSave:c,onDelete:h,category:t})=>{const[a,o]=d.useState("");d.useEffect(()=>{n&&o((t==null?void 0:t.name)||"")},[n,t]);const i=x=>{if(x.preventDefault(),!a.trim())return;const p={name:a.trim()};c(t?{...p,id:t.id}:p),l()},u=()=>{t&&window.confirm(`Â¿EstÃ¡s seguro de que quieres eliminar la categorÃ­a "${t.name}"?`)&&(h(t.id),l())};return e.jsx(R,{isOpen:n,onClose:l,title:t?"Editar CategorÃ­a":"AÃ±adir CategorÃ­a",children:e.jsxs("form",{onSubmit:i,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre de la CategorÃ­a"}),e.jsx("input",{type:"text",value:a,onChange:x=>o(x.target.value),required:!0,autoFocus:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{children:t&&e.jsx("button",{type:"button",onClick:u,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:l,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar"})]})]})]})})},fe=({rating:n})=>e.jsx("div",{className:"flex",children:[...Array(5)].map((l,c)=>e.jsx(N,{name:"star",size:16,className:c<n?"text-yellow-400 fill-current":"text-gray-300"},c))}),je=({isOpen:n,onClose:l,recipe:c,feedbackLog:h})=>{const t=[...h].sort((a,o)=>new Date(o.date).getTime()-new Date(a.date).getTime());return e.jsxs(R,{isOpen:n,onClose:l,title:`BitÃ¡cora de: ${c.name}`,children:[e.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:t.length>0?e.jsx("div",{className:"space-y-4",children:t.map(a=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:new Date(a.date).toLocaleString("es-ES",{dateStyle:"long",timeStyle:"short"})}),e.jsx(fe,{rating:a.rating})]}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:a.notes||"Sin notas."})]},a.id))}):e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay feedback registrado para esta receta todavÃ­a."})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:l,className:"py-2 px-6 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cerrar"})})]})},ye=({isOpen:n,onClose:l,onSave:c,onDelete:h,user:t})=>{const[a,o]=d.useState(""),[i,u]=d.useState("#CCCCCC"),[x,p]=d.useState("");d.useEffect(()=>{n&&(o((t==null?void 0:t.name)||""),u((t==null?void 0:t.color)||"#CCCCCC"),p((t==null?void 0:t.phone)||""))},[n,t]);const v=r=>{if(r.preventDefault(),!a.trim())return;const m={name:a.trim(),color:i,phone:x.trim()};c(t?{...m,id:t.id}:m),l()},w=()=>{t&&window.confirm(`Â¿EstÃ¡s seguro de que quieres eliminar a "${t.name}"? Esto no se puede deshacer.`)&&(h(t.id),l())};return e.jsx(R,{isOpen:n,onClose:l,title:t?"Editar Usuario":"AÃ±adir Usuario",children:e.jsxs("form",{onSubmit:v,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre del Usuario"}),e.jsx("input",{type:"text",value:a,onChange:r=>o(r.target.value),required:!0,autoFocus:!0,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"NÃºmero de WhatsApp (Opcional)"}),e.jsx("input",{type:"tel",value:x,onChange:r=>p(r.target.value),placeholder:"+521234567890",className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Color de Etiqueta"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"color",value:i,onChange:r=>u(r.target.value),className:"w-12 h-10 p-1 border border-gray-300 rounded-md cursor-pointer"}),e.jsx("input",{type:"text",value:i,onChange:r=>u(r.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 font-mono focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{children:t&&e.jsx("button",{type:"button",onClick:w,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:l,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar"})]})]})]})})},Ne=({steps:n,setSteps:l})=>{const c=(a,o,i)=>{const u=[...n];o==="duration"?u[a][o]=typeof i=="string"?parseInt(i,10)*60:i:u[a][o]=i,l(u)},h=()=>{l([...n,{duration:300,instruction:"Nuevo paso",type:"active"}])},t=a=>{n.length<=1||l(n.filter((o,i)=>i!==a))};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-700 mb-2",children:"Pasos del Proceso"}),e.jsxs("div",{className:"space-y-3 bg-gray-100 p-3 rounded-lg border",children:[n.map((a,o)=>e.jsx("div",{className:"flex flex-col gap-2 bg-white p-3 rounded-md shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"font-bold text-gray-500 mt-2",children:[o+1,"."]}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("textarea",{value:a.instruction,onChange:i=>c(o,"instruction",i.target.value),rows:2,placeholder:"InstrucciÃ³n del paso",className:"w-full p-2 text-sm border border-gray-300 rounded-md mb-2"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center flex-grow",children:[e.jsx("span",{className:"text-xs font-bold text-gray-500 mr-2 uppercase",children:"DuraciÃ³n:"}),e.jsx("input",{type:"number",value:a.duration/60,onChange:i=>c(o,"duration",i.target.value),min:"1",className:"w-16 p-1 text-sm border border-gray-300 rounded-md text-center"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"min"})]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{type:"button",onClick:()=>c(o,"type","active"),className:`px-3 py-1 text-xs font-bold rounded-md transition-colors ${a.type==="active"||!a.type?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Manual"}),e.jsx("button",{type:"button",onClick:()=>c(o,"type","passive"),className:`px-3 py-1 text-xs font-bold rounded-md transition-colors ${a.type==="passive"?"bg-white text-teal-600 shadow-sm":"text-gray-500"}`,children:"Espera"})]})]})]}),e.jsx("button",{type:"button",onClick:()=>t(o),disabled:n.length<=1,className:"p-2 text-red-500 hover:bg-red-100 rounded-full disabled:text-gray-400 disabled:cursor-not-allowed mt-2",children:e.jsx(N,{name:"trash-2",size:18})})]})},o)),e.jsxs("button",{type:"button",onClick:h,className:"w-full mt-2 py-2 px-4 bg-blue-100 text-blue-700 font-semibold rounded-lg hover:bg-blue-200 transition-colors text-sm flex items-center justify-center gap-2",children:[e.jsx(N,{name:"plus",size:16}),"AÃ±adir Paso"]})]})]})},ve=({variants:n,setVariants:l,baseSteps:c})=>{const[h,t]=d.useState(""),[a,o]=d.useState(""),[i,u]=d.useState(null),x=()=>{if(!h.trim())return;const r={id:`var-${Date.now()}`,name:h.trim(),description:a.trim(),stepOverrides:Array(c.length).fill(null)};l([...n,r]),t(""),o("")},p=r=>{l(n.filter(m=>m.id!==r)),(i==null?void 0:i.id)===r&&u(null)},v=(r,m,b)=>{l(f=>f.map(g=>g.id===r?{...g,[m]:b}:g))},w=(r,m,b)=>{l(f=>f.map(g=>{if(g.id===r){const j=[...g.stepOverrides],C=b.trim()===c[m].instruction.trim()?null:b.trim();return C===null?j[m]=null:j[m]={...j[m]||{},instruction:C},j[m]&&Object.keys(j[m]).length===0&&(j[m]=null),{...g,stepOverrides:j}}return g}))};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-700 mb-2",children:"Variantes de Receta (Opcional)"}),e.jsxs("div",{className:"space-y-3 bg-gray-100 p-3 rounded-lg border",children:[n.map(r=>{const m=(i==null?void 0:i.id)===r.id;return e.jsxs("div",{className:"bg-white p-3 rounded-md shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m?e.jsx("input",{type:"text",value:r.name,onChange:b=>v(r.id,"name",b.target.value),className:"font-semibold text-gray-800 p-1 border border-gray-300 rounded-md w-full mr-2"}):e.jsx("h4",{className:"font-semibold text-gray-800",children:r.name}),e.jsxs("div",{children:[e.jsx("button",{type:"button",onClick:()=>u(m?null:r),className:`p-2 rounded-full transition-colors ${m?"bg-blue-100 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,children:e.jsx(N,{name:"pencil",size:16})}),e.jsx("button",{type:"button",onClick:()=>p(r.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-full",children:e.jsx(N,{name:"trash-2",size:16})})]})]}),m&&e.jsxs("div",{className:"space-y-2 mt-2 pt-2 border-t",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"DescripciÃ³n de la Variante"}),e.jsx("input",{type:"text",value:r.description||"",onChange:b=>v(r.id,"description",b.target.value),placeholder:"Ej: 1 charola (6-8 pzas)",className:"w-full p-1 border border-gray-300 rounded-md"})]}),c.map((b,f)=>{const g=r.stepOverrides[f];return e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsxs("span",{className:"font-bold text-gray-500 mt-2",children:[f+1,"."]}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("label",{className:"text-xs text-gray-500",children:['InstrucciÃ³n (Base: "',b.instruction,'")']}),e.jsx("textarea",{value:(g==null?void 0:g.instruction)||b.instruction,onChange:j=>w(r.id,f,j.target.value),rows:2,className:"w-full p-1 border border-gray-300 rounded-md"})]})]},f)})]})]},r.id)}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 pt-2",children:[e.jsx("input",{type:"text",value:h,onChange:r=>t(r.target.value),placeholder:"Nombre de variante (ej: Media Charola)",className:"w-full p-2 border border-gray-300 rounded-md bg-white text-sm"}),e.jsx("input",{type:"text",value:a,onChange:r=>o(r.target.value),placeholder:"DescripciÃ³n (ej: 1 charola)",className:"w-full p-2 border border-gray-300 rounded-md bg-white text-sm"}),e.jsx("button",{type:"button",onClick:x,className:"flex-shrink-0 py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 text-sm",children:"AÃ±adir"})]})]})]})},we=({isOpen:n,onClose:l,onSave:c,onDelete:h,recipe:t})=>{const[a,o]=d.useState(""),[i,u]=d.useState(""),[x,p]=d.useState(""),[v,w]=d.useState(""),[r,m]=d.useState(""),[b,f]=d.useState([]),[g,j]=d.useState([]);d.useEffect(()=>{n&&(o((t==null?void 0:t.name)||""),u((t==null?void 0:t.pluralName)||""),p((t==null?void 0:t.setupInstruction)||""),w((t==null?void 0:t.baseVariantName)||"Receta EstÃ¡ndar"),m((t==null?void 0:t.baseVariantDescription)||""),f((t==null?void 0:t.steps)||[{duration:300,instruction:"Nuevo paso",type:"active"}]),j((t==null?void 0:t.variants)||[]))},[n,t]);const C=y=>{y.preventDefault();const S=b.reduce((P,k)=>P+k.duration,0);c({name:a,pluralName:i,setupInstruction:x,baseVariantName:v,baseVariantDescription:r,steps:b,variants:g,totalDuration:S}),l()},D=()=>{t&&(h(t.id),l())};return e.jsx(R,{isOpen:n,onClose:l,title:t?`Editar Receta: ${t.name}`:"AÃ±adir Nueva Receta",children:e.jsxs("form",{onSubmit:C,className:"flex flex-col gap-6 max-h-[80vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(E,{label:"Nombre de la Receta (Singular)",children:e.jsx("input",{type:"text",value:a,onChange:y=>o(y.target.value),required:!0})}),e.jsx(E,{label:"Nombre para Notificaciones (Plural)",children:e.jsx("input",{type:"text",value:i,onChange:y=>u(y.target.value),placeholder:"Ej: Roles de Canela listos",required:!0})})]}),e.jsx(E,{label:"InstrucciÃ³n de ConfiguraciÃ³n Inicial",children:e.jsx("textarea",{value:x,onChange:y=>p(y.target.value),rows:2})}),e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h3",{className:"text-md font-bold text-blue-800 mb-2",children:"ConfiguraciÃ³n de la Receta Base"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(E,{label:"Nombre de la Variante Base",children:e.jsx("input",{type:"text",value:v,onChange:y=>w(y.target.value),required:!0})}),e.jsx(E,{label:"DescripciÃ³n de la Variante Base",children:e.jsx("input",{type:"text",value:r,onChange:y=>m(y.target.value),placeholder:"Ej: 2 charolas (12 pzas)"})})]})]}),e.jsx(Ne,{steps:b,setSteps:f}),e.jsx(ve,{variants:g,setVariants:j,baseSteps:b}),e.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t sticky bottom-0 bg-white",children:[e.jsx("div",{children:t&&e.jsx("button",{type:"button",onClick:D,className:"py-2 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Eliminar"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:l,className:"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Guardar Receta"})]})]})]})})},E=({label:n,children:l})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:n}),ge.cloneElement(l,{className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Ee=({providersHook:n,categoriesHook:l,recipeLogHook:c,usersHook:h,recipesHook:t})=>{const[a,o]=d.useState("production"),[i,u]=d.useState(!1),{providers:x,addProvider:p,updateProvider:v,deleteProvider:w}=n,[r,m]=d.useState(!1),[b,f]=d.useState(null),{categories:g,addCategory:j,updateCategory:C,deleteCategory:D}=l,[y,S]=d.useState(!1),[P,k]=d.useState(null),{feedbackLog:G}=c,[A,M]=d.useState(null),{users:z,addUser:H,updateUser:_,deleteUser:W}=h,[J,O]=d.useState(!1),[K,q]=d.useState(null),{recipes:T,addRecipe:Q,updateRecipe:X,deleteRecipe:Y,resetRecipesToFactory:Z}=t,[ee,U]=d.useState(!1),[I,F]=d.useState(null),te=s=>{f(s),m(!0)},se=()=>{f(null),m(!0)},ae=s=>{"id"in s?v(s):p(s)},re=s=>{k(s),S(!0)},le=()=>{k(null),S(!0)},ne=s=>{"id"in s?C(s):j(s)},oe=s=>{q(s),O(!0)},ie=()=>{q(null),O(!0)},de=s=>{"id"in s?_(s):H(s)},B=s=>{F(s),U(!0)},ce=()=>{F(null),U(!0)},me=s=>{I?X({...s,id:I.id}):Q(s)},ue=async()=>{if(window.confirm(`ðŸš‘ Â¿Reiniciar CronÃ³metros?

Esto detendrÃ¡ todos los procesos de panaderÃ­a activos y limpiarÃ¡ la memoria local del navegador.

âœ… TUS TAREAS, RECETAS E INVENTARIO NO SE BORRARÃN.`)){u(!0);try{localStorage.removeItem("productionState_v2"),alert("CronÃ³metros reiniciados. La aplicaciÃ³n se recargarÃ¡."),window.location.reload()}catch(s){console.error("Error repairing app:",s),alert("Error al reparar. Intenta recargar la pÃ¡gina manualmente."),u(!1)}}},V=({tab:s,label:xe,icon:be})=>e.jsxs("button",{onClick:()=>o(s),className:`flex items-center gap-2 py-3 px-4 text-sm md:text-base font-bold border-b-4 transition-colors ${a===s?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[e.jsx(N,{name:be,size:18}),xe]}),$=T.filter(s=>s.name.toLowerCase().includes("(horneado)")),L=T.filter(s=>!s.name.toLowerCase().includes("(horneado)"));return e.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 h-full overflow-y-auto",children:[e.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex gap-4 overflow-x-auto",children:[e.jsx(V,{tab:"production",label:"ProducciÃ³n",icon:"cake-slice"}),e.jsx(V,{tab:"inventory",label:"Inventario",icon:"archive"}),e.jsx(V,{tab:"operations",label:"Operaciones",icon:"clipboard-kanban"})]})}),e.jsxs("div",{className:"mt-6",children:[a==="production"&&e.jsxs("section",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Gestionar Recetas"}),e.jsxs("button",{onClick:ce,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(N,{name:"plus-circle",size:16}),"AÃ±adir Receta"]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg text-blue-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ¥£"})," ElaboraciÃ³n de Masas"]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:L.length>0?L.map(s=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-800",children:s.name}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>M(s),className:"text-sm text-gray-500 hover:text-blue-600 hover:underline font-semibold transition-colors",children:"Historial"}),e.jsx("button",{onClick:()=>B(s),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline font-semibold transition-colors",children:"Editar"})]})]},s.id)):e.jsx("li",{className:"p-4 text-gray-400 italic text-sm text-center",children:"No hay recetas de masas configuradas."})})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg text-orange-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ”¥"})," Horneado Final"]}),e.jsx("div",{className:"bg-white rounded-lg border border-orange-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-orange-100",children:$.length>0?$.map(s=>e.jsxs("li",{className:"p-4 flex justify-between items-center bg-orange-50/30",children:[e.jsx("span",{className:"font-medium text-gray-800",children:s.name.replace(/\(Horneado\)/i,"").trim()}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>M(s),className:"text-sm text-gray-500 hover:text-blue-600 hover:underline font-semibold transition-colors",children:"Historial"}),e.jsx("button",{onClick:()=>B(s),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline font-semibold transition-colors",children:"Editar"})]})]},s.id)):e.jsx("li",{className:"p-4 text-gray-400 italic text-sm text-center",children:"No hay recetas de horneado configuradas."})})})]})]}),a==="inventory"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"Proveedores de Inventario"}),e.jsxs("button",{onClick:se,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(N,{name:"plus-circle",size:16}),"AÃ±adir Proveedor"]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:x.length>0?x.map(s=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-800",children:s.name}),e.jsx("button",{onClick:()=>te(s),className:"text-sm text-blue-600 hover:underline font-semibold",children:"Editar"})]},s.id)):e.jsx("li",{className:"p-4 text-center text-gray-500",children:"No hay proveedores. Â¡AÃ±ade el primero!"})})})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"CategorÃ­as de Inventario"}),e.jsxs("button",{onClick:le,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(N,{name:"plus-circle",size:16}),"AÃ±adir CategorÃ­a"]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:g.length>0?g.map(s=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-800",children:s.name}),e.jsx("button",{onClick:()=>re(s),className:"text-sm text-blue-600 hover:underline font-semibold",children:"Editar"})]},s.id)):e.jsx("li",{className:"p-4 text-center text-gray-500",children:"No hay categorÃ­as. Â¡AÃ±ade la primera!"})})})]})]}),a==="operations"&&e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"GestiÃ³n de Usuarios"}),e.jsxs("button",{onClick:ie,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(N,{name:"plus-circle",size:16}),"AÃ±adir Usuario"]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:z.length>0?z.map(s=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:s.color}}),e.jsx("span",{className:"font-medium text-gray-800",children:s.name})]}),e.jsx("button",{onClick:()=>oe(s),className:"text-sm text-blue-600 hover:underline font-semibold",children:"Editar"})]},s.id)):e.jsx("li",{className:"p-4 text-center text-gray-500",children:"No hay usuarios. Â¡AÃ±ade el primero!"})})})]})]}),e.jsxs("div",{className:"mt-12 p-6 bg-white border-2 border-gray-200 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(N,{name:"settings",className:"text-gray-600",size:24}),e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Mantenimiento de la App"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-bold text-green-800 mb-2",children:"ðŸš‘ Reiniciar CronÃ³metros (Seguro)"}),e.jsxs("p",{className:"text-sm text-green-700 mb-4",children:["Usa esto si los cronÃ³metros de panaderÃ­a estÃ¡n trabados o no responden.",e.jsx("strong",{children:"Esto NO borrarÃ¡ tus tareas ni operaciones."})]}),e.jsx("button",{onClick:ue,disabled:i,className:"w-full px-4 py-2 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-colors shadow-sm disabled:opacity-50",children:i?"Reparando...":"Reiniciar Estado de CronÃ³metros"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-bold text-red-800 mb-2",children:"âš ï¸ Restaurar Recetas de FÃ¡brica"}),e.jsxs("p",{className:"text-sm text-red-700 mb-4",children:["Borra TODAS las recetas y recarga las predeterminadas (Croissants, Pizza, etc.) limpias.",e.jsx("strong",{children:"Usa esto para arreglar la base de datos."})]}),e.jsx("button",{onClick:Z,className:"w-full px-4 py-2 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 transition-colors shadow-sm",children:"Restaurar Recetas"})]})]})]})]}),e.jsx(he,{isOpen:r,onClose:()=>m(!1),onSave:ae,onDelete:w,provider:b}),e.jsx(pe,{isOpen:y,onClose:()=>S(!1),onSave:ne,onDelete:D,category:P}),e.jsx(ye,{isOpen:J,onClose:()=>O(!1),onSave:de,onDelete:W,user:K}),e.jsx(we,{isOpen:ee,onClose:()=>U(!1),onSave:me,onDelete:Y,recipe:I}),A&&e.jsx(je,{isOpen:!!A,onClose:()=>M(null),recipe:A,feedbackLog:G.filter(s=>s.recipeId===A.id)})]})};export{Ee as default};
